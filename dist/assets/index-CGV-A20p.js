(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function di(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ue={},bs=[],ft=()=>{},oa=()=>!1,Jn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),hi=t=>t.startsWith("onUpdate:"),Ce=Object.assign,fi=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},sc=Object.prototype.hasOwnProperty,oe=(t,e)=>sc.call(t,e),W=Array.isArray,ws=t=>un(t)==="[object Map]",zn=t=>un(t)==="[object Set]",Hi=t=>un(t)==="[object Date]",Y=t=>typeof t=="function",Ee=t=>typeof t=="string",pt=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",aa=t=>(de(t)||Y(t))&&Y(t.then)&&Y(t.catch),la=Object.prototype.toString,un=t=>la.call(t),nc=t=>un(t).slice(8,-1),ca=t=>un(t)==="[object Object]",pi=t=>Ee(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fs=di(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},rc=/-\w/g,Ye=Qn(t=>t.replace(rc,e=>e.slice(1).toUpperCase())),ic=/\B([A-Z])/g,qt=Qn(t=>t.replace(ic,"-$1").toLowerCase()),Yn=Qn(t=>t.charAt(0).toUpperCase()+t.slice(1)),vr=Qn(t=>t?`on${Yn(t)}`:""),Dt=(t,e)=>!Object.is(t,e),An=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},ua=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Pn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wi;const Xn=()=>Wi||(Wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gi(t){if(W(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=Ee(n)?cc(n):gi(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ee(t)||de(t))return t}const oc=/;(?![^(]*\))/g,ac=/:([^]+)/,lc=/\/\*[^]*?\*\//g;function cc(t){const e={};return t.replace(lc,"").split(oc).forEach(s=>{if(s){const n=s.split(ac);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Mt(t){let e="";if(Ee(t))e=t;else if(W(t))for(let s=0;s<t.length;s++){const n=Mt(t[s]);n&&(e+=n+" ")}else if(de(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const uc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dc=di(uc);function da(t){return!!t||t===""}function hc(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=Zn(t[n],e[n]);return s}function Zn(t,e){if(t===e)return!0;let s=Hi(t),n=Hi(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=pt(t),n=pt(e),s||n)return t===e;if(s=W(t),n=W(e),s||n)return s&&n?hc(t,e):!1;if(s=de(t),n=de(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Zn(t[o],e[o]))return!1}}return String(t)===String(e)}function fc(t,e){return t.findIndex(s=>Zn(s,e))}const ha=t=>!!(t&&t.__v_isRef===!0),Z=t=>Ee(t)?t:t==null?"":W(t)||de(t)&&(t.toString===la||!Y(t.toString))?ha(t)?Z(t.value):JSON.stringify(t,fa,2):String(t),fa=(t,e)=>ha(e)?fa(t,e.value):ws(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[mr(n,i)+" =>"]=r,s),{})}:zn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>mr(s))}:pt(e)?mr(e):de(e)&&!W(e)&&!ca(e)?String(e):e,mr=(t,e="")=>{var s;return pt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class pa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!e&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ke;try{return ke=this,e()}finally{ke=s}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ga(t){return new pa(t)}function va(){return ke}function pc(t,e=!1){ke&&ke.cleanups.push(t)}let pe;const yr=new WeakSet;class ma{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yr.has(this)&&(yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_a(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ki(this),ba(this);const e=pe,s=tt;pe=this,tt=!0;try{return this.fn()}finally{wa(this),pe=e,tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yi(e);this.deps=this.depsTail=void 0,Ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lr(this)&&this.run()}get dirty(){return Lr(this)}}let ya=0,qs,Hs;function _a(t,e=!1){if(t.flags|=8,e){t.next=Hs,Hs=t;return}t.next=qs,qs=t}function vi(){ya++}function mi(){if(--ya>0)return;if(Hs){let e=Hs;for(Hs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;qs;){let e=qs;for(qs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function ba(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function wa(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),yi(n),gc(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Lr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function xa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===en)||(t.globalVersion=en,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Lr(t))))return;t.flags|=2;const e=t.dep,s=pe,n=tt;pe=t,tt=!0;try{ba(t);const r=t.fn(t._value);(e.version===0||Dt(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{pe=s,tt=n,wa(t),t.flags&=-3}}function yi(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)yi(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function gc(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let tt=!0;const Ea=[];function Et(){Ea.push(tt),tt=!1}function St(){const t=Ea.pop();tt=t===void 0?!0:t}function Ki(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=pe;pe=void 0;try{e()}finally{pe=s}}}let en=0;class vc{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _i{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!pe||!tt||pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==pe)s=this.activeLink=new vc(pe,this),pe.deps?(s.prevDep=pe.depsTail,pe.depsTail.nextDep=s,pe.depsTail=s):pe.deps=pe.depsTail=s,Sa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=pe.depsTail,s.nextDep=void 0,pe.depsTail.nextDep=s,pe.depsTail=s,pe.deps===s&&(pe.deps=n)}return s}trigger(e){this.version++,en++,this.notify(e)}notify(e){vi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{mi()}}}function Sa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Sa(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const In=new WeakMap,ns=Symbol(""),Mr=Symbol(""),tn=Symbol("");function Te(t,e,s){if(tt&&pe){let n=In.get(t);n||In.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new _i),r.map=n,r.key=s),r.track()}}function wt(t,e,s,n,r,i){const o=In.get(t);if(!o){en++;return}const a=l=>{l&&l.trigger()};if(vi(),e==="clear")o.forEach(a);else{const l=W(t),u=l&&pi(s);if(l&&s==="length"){const c=Number(n);o.forEach((d,f)=>{(f==="length"||f===tn||!pt(f)&&f>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(tn)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ns)),ws(t)&&a(o.get(Mr)));break;case"delete":l||(a(o.get(ns)),ws(t)&&a(o.get(Mr)));break;case"set":ws(t)&&a(o.get(ns));break}}mi()}function mc(t,e){const s=In.get(t);return s&&s.get(e)}function ls(t){const e=se(t);return e===t?e:(Te(e,"iterate",tn),ze(t)?e:e.map(Ae))}function er(t){return Te(t=se(t),"iterate",tn),t}const yc={__proto__:null,[Symbol.iterator](){return _r(this,Symbol.iterator,Ae)},concat(...t){return ls(this).concat(...t.map(e=>W(e)?ls(e):e))},entries(){return _r(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return mt(this,"every",t,e,void 0,arguments)},filter(t,e){return mt(this,"filter",t,e,s=>s.map(Ae),arguments)},find(t,e){return mt(this,"find",t,e,Ae,arguments)},findIndex(t,e){return mt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return mt(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return mt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return mt(this,"forEach",t,e,void 0,arguments)},includes(...t){return br(this,"includes",t)},indexOf(...t){return br(this,"indexOf",t)},join(t){return ls(this).join(t)},lastIndexOf(...t){return br(this,"lastIndexOf",t)},map(t,e){return mt(this,"map",t,e,void 0,arguments)},pop(){return Ns(this,"pop")},push(...t){return Ns(this,"push",t)},reduce(t,...e){return Vi(this,"reduce",t,e)},reduceRight(t,...e){return Vi(this,"reduceRight",t,e)},shift(){return Ns(this,"shift")},some(t,e){return mt(this,"some",t,e,void 0,arguments)},splice(...t){return Ns(this,"splice",t)},toReversed(){return ls(this).toReversed()},toSorted(t){return ls(this).toSorted(t)},toSpliced(...t){return ls(this).toSpliced(...t)},unshift(...t){return Ns(this,"unshift",t)},values(){return _r(this,"values",Ae)}};function _r(t,e,s){const n=er(t),r=n[e]();return n!==t&&!ze(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const _c=Array.prototype;function mt(t,e,s,n,r,i){const o=er(t),a=o!==t&&!ze(t),l=o[e];if(l!==_c[e]){const d=l.apply(t,i);return a?Ae(d):d}let u=s;o!==t&&(a?u=function(d,f){return s.call(this,Ae(d),f,t)}:s.length>2&&(u=function(d,f){return s.call(this,d,f,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Vi(t,e,s,n){const r=er(t);let i=s;return r!==t&&(ze(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ae(a),l,t)}),r[e](i,...n)}function br(t,e,s){const n=se(t);Te(n,"iterate",tn);const r=n[e](...s);return(r===-1||r===!1)&&xi(s[0])?(s[0]=se(s[0]),n[e](...s)):r}function Ns(t,e,s=[]){Et(),vi();const n=se(t)[e].apply(t,s);return mi(),St(),n}const bc=di("__proto__,__v_isRef,__isVue"),Oa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function wc(t){pt(t)||(t=String(t));const e=se(this);return Te(e,"has",t),e.hasOwnProperty(t)}class Aa{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Pc:Ca:i?Ra:Ta).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=W(e);if(!r){let l;if(o&&(l=yc[s]))return l;if(s==="hasOwnProperty")return wc}const a=Reflect.get(e,s,be(e)?e:n);if((pt(s)?Oa.has(s):bc(s))||(r||Te(e,"get",s),i))return a;if(be(a)){const l=o&&pi(s)?a:a.value;return r&&de(l)?Fr(l):l}return de(a)?r?Fr(a):dn(a):a}}class ka extends Aa{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=Bt(i);if(!ze(n)&&!Bt(n)&&(i=se(i),n=se(n)),!W(e)&&be(i)&&!be(n))return l||(i.value=n),!0}const o=W(e)&&pi(s)?Number(s)<e.length:oe(e,s),a=Reflect.set(e,s,n,be(e)?e:r);return e===se(r)&&(o?Dt(n,i)&&wt(e,"set",s,n):wt(e,"add",s,n)),a}deleteProperty(e,s){const n=oe(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&wt(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!pt(s)||!Oa.has(s))&&Te(e,"has",s),n}ownKeys(e){return Te(e,"iterate",W(e)?"length":ns),Reflect.ownKeys(e)}}class xc extends Aa{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ec=new ka,Sc=new xc,Oc=new ka(!0);const Br=t=>t,bn=t=>Reflect.getPrototypeOf(t);function Ac(t,e,s){return function(...n){const r=this.__v_raw,i=se(r),o=ws(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?Br:e?jn:Ae;return!e&&Te(i,"iterate",l?Mr:ns),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function wn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kc(t,e){const s={get(r){const i=this.__v_raw,o=se(i),a=se(r);t||(Dt(r,a)&&Te(o,"get",r),Te(o,"get",a));const{has:l}=bn(o),u=e?Br:t?jn:Ae;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Te(se(r),"iterate",ns),r.size},has(r){const i=this.__v_raw,o=se(i),a=se(r);return t||(Dt(r,a)&&Te(o,"has",r),Te(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=se(a),u=e?Br:t?jn:Ae;return!t&&Te(l,"iterate",ns),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return Ce(s,t?{add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear")}:{add(r){!e&&!ze(r)&&!Bt(r)&&(r=se(r));const i=se(this);return bn(i).has.call(i,r)||(i.add(r),wt(i,"add",r,r)),this},set(r,i){!e&&!ze(i)&&!Bt(i)&&(i=se(i));const o=se(this),{has:a,get:l}=bn(o);let u=a.call(o,r);u||(r=se(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Dt(i,c)&&wt(o,"set",r,i):wt(o,"add",r,i),this},delete(r){const i=se(this),{has:o,get:a}=bn(i);let l=o.call(i,r);l||(r=se(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&wt(i,"delete",r,void 0),u},clear(){const r=se(this),i=r.size!==0,o=r.clear();return i&&wt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ac(r,t,e)}),s}function bi(t,e){const s=kc(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(oe(s,r)&&r in n?s:n,r,i)}const Tc={get:bi(!1,!1)},Rc={get:bi(!1,!0)},Cc={get:bi(!0,!1)};const Ta=new WeakMap,Ra=new WeakMap,Ca=new WeakMap,Pc=new WeakMap;function Ic(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jc(t){return t.__v_skip||!Object.isExtensible(t)?0:Ic(nc(t))}function dn(t){return Bt(t)?t:wi(t,!1,Ec,Tc,Ta)}function Pa(t){return wi(t,!1,Oc,Rc,Ra)}function Fr(t){return wi(t,!0,Sc,Cc,Ca)}function wi(t,e,s,n,r){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=jc(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Lt(t){return Bt(t)?Lt(t.__v_raw):!!(t&&t.__v_isReactive)}function Bt(t){return!!(t&&t.__v_isReadonly)}function ze(t){return!!(t&&t.__v_isShallow)}function xi(t){return t?!!t.__v_raw:!1}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function Ei(t){return!oe(t,"__v_skip")&&Object.isExtensible(t)&&ua(t,"__v_skip",!0),t}const Ae=t=>de(t)?dn(t):t,jn=t=>de(t)?Fr(t):t;function be(t){return t?t.__v_isRef===!0:!1}function ne(t){return Ia(t,!1)}function $c(t){return Ia(t,!0)}function Ia(t,e){return be(t)?t:new Nc(t,e)}class Nc{constructor(e,s){this.dep=new _i,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:se(e),this._value=s?e:Ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||ze(e)||Bt(e);e=n?e:se(e),Dt(e,s)&&(this._rawValue=e,this._value=n?e:Ae(e),this.dep.trigger())}}function xs(t){return be(t)?t.value:t}const Uc={get:(t,e,s)=>e==="__v_raw"?t:xs(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return be(r)&&!be(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function ja(t){return Lt(t)?t:new Proxy(t,Uc)}function Dc(t){const e=W(t)?new Array(t.length):{};for(const s in t)e[s]=Mc(t,s);return e}class Lc{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mc(se(this._object),this._key)}}function Mc(t,e,s){const n=t[e];return be(n)?n:new Lc(t,e,s)}class Bc{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new _i(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=en-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return _a(this,!0),!0}get value(){const e=this.dep.track();return xa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Fc(t,e,s=!1){let n,r;return Y(t)?n=t:(n=t.get,r=t.set),new Bc(n,r,s)}const xn={},$n=new WeakMap;let Qt;function qc(t,e=!1,s=Qt){if(s){let n=$n.get(s);n||$n.set(s,n=[]),n.push(t)}}function Hc(t,e,s=ue){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=A=>r?A:ze(A)||r===!1||r===0?xt(A,1):xt(A);let c,d,f,h,m=!1,b=!1;if(be(t)?(d=()=>t.value,m=ze(t)):Lt(t)?(d=()=>u(t),m=!0):W(t)?(b=!0,m=t.some(A=>Lt(A)||ze(A)),d=()=>t.map(A=>{if(be(A))return A.value;if(Lt(A))return u(A);if(Y(A))return l?l(A,2):A()})):Y(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Et();try{f()}finally{St()}}const A=Qt;Qt=c;try{return l?l(t,3,[h]):t(h)}finally{Qt=A}}:d=ft,e&&r){const A=d,I=r===!0?1/0:r;d=()=>xt(A(),I)}const x=va(),T=()=>{c.stop(),x&&x.active&&fi(x.effects,c)};if(i&&e){const A=e;e=(...I)=>{A(...I),T()}}let w=b?new Array(t.length).fill(xn):xn;const y=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const I=c.run();if(r||m||(b?I.some((K,H)=>Dt(K,w[H])):Dt(I,w))){f&&f();const K=Qt;Qt=c;try{const H=[I,w===xn?void 0:b&&w[0]===xn?[]:w,h];w=I,l?l(e,3,H):e(...H)}finally{Qt=K}}}else c.run()};return a&&a(y),c=new ma(d),c.scheduler=o?()=>o(y,!1):y,h=A=>qc(A,!1,c),f=c.onStop=()=>{const A=$n.get(c);if(A){if(l)l(A,4);else for(const I of A)I();$n.delete(c)}},e?n?y(!0):w=c.run():o?o(y.bind(null,!0),!0):c.run(),T.pause=c.pause.bind(c),T.resume=c.resume.bind(c),T.stop=T,T}function xt(t,e=1/0,s){if(e<=0||!de(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,be(t))xt(t.value,e,s);else if(W(t))for(let n=0;n<t.length;n++)xt(t[n],e,s);else if(zn(t)||ws(t))t.forEach(n=>{xt(n,e,s)});else if(ca(t)){for(const n in t)xt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&xt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hn(t,e,s,n){try{return n?t(...n):t()}catch(r){tr(r,e,s)}}function gt(t,e,s,n){if(Y(t)){const r=hn(t,e,s,n);return r&&aa(r)&&r.catch(i=>{tr(i,e,s)}),r}if(W(t)){const r=[];for(let i=0;i<t.length;i++)r.push(gt(t[i],e,s,n));return r}}function tr(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ue;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){Et(),hn(i,null,10,[t,l,u]),St();return}}Wc(t,s,r,n,o)}function Wc(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const $e=[];let lt=-1;const Es=[];let It=null,vs=0;const $a=Promise.resolve();let Nn=null;function sr(t){const e=Nn||$a;return t?e.then(this?t.bind(this):t):e}function Kc(t){let e=lt+1,s=$e.length;for(;e<s;){const n=e+s>>>1,r=$e[n],i=sn(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Si(t){if(!(t.flags&1)){const e=sn(t),s=$e[$e.length-1];!s||!(t.flags&2)&&e>=sn(s)?$e.push(t):$e.splice(Kc(e),0,t),t.flags|=1,Na()}}function Na(){Nn||(Nn=$a.then(Da))}function Vc(t){W(t)?Es.push(...t):It&&t.id===-1?It.splice(vs+1,0,t):t.flags&1||(Es.push(t),t.flags|=1),Na()}function Gi(t,e,s=lt+1){for(;s<$e.length;s++){const n=$e[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;$e.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ua(t){if(Es.length){const e=[...new Set(Es)].sort((s,n)=>sn(s)-sn(n));if(Es.length=0,It){It.push(...e);return}for(It=e,vs=0;vs<It.length;vs++){const s=It[vs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,vs=0}}const sn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Da(t){try{for(lt=0;lt<$e.length;lt++){const e=$e[lt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lt<$e.length;lt++){const e=$e[lt];e&&(e.flags&=-2)}lt=-1,$e.length=0,Ua(),Nn=null,($e.length||Es.length)&&Da()}}let Ve=null,La=null;function Un(t){const e=Ve;return Ve=t,La=t&&t.type.__scopeId||null,e}function ce(t,e=Ve,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Mn(-1);const i=Un(e);let o;try{o=t(...r)}finally{Un(i),n._d&&Mn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function dt(t,e){if(Ve===null)return t;const s=ar(Ve),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=ue]=e[r];i&&(Y(i)&&(i={mounted:i,updated:i}),i.deep&&xt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Vt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Et(),gt(l,s,8,[t.el,a,t,e]),St())}}const Gc=Symbol("_vte"),Jc=t=>t.__isTeleport,zc=Symbol("_leaveCb");function Oi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Oi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ma(t,e){return Y(t)?Ce({name:t.name},e,{setup:t}):t}function Ba(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Dn=new WeakMap;function Ws(t,e,s,n,r=!1){if(W(t)){t.forEach((m,b)=>Ws(m,e&&(W(e)?e[b]:e),s,n,r));return}if(Ks(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ws(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?ar(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ue?a.refs={}:a.refs,d=a.setupState,f=se(d),h=d===ue?oa:m=>oe(f,m);if(u!=null&&u!==l){if(Ji(e),Ee(u))c[u]=null,h(u)&&(d[u]=null);else if(be(u)){u.value=null;const m=e;m.k&&(c[m.k]=null)}}if(Y(l))hn(l,a,12,[o,c]);else{const m=Ee(l),b=be(l);if(m||b){const x=()=>{if(t.f){const T=m?h(l)?d[l]:c[l]:l.value;if(r)W(T)&&fi(T,i);else if(W(T))T.includes(i)||T.push(i);else if(m)c[l]=[i],h(l)&&(d[l]=c[l]);else{const w=[i];l.value=w,t.k&&(c[t.k]=w)}}else m?(c[l]=o,h(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};if(o){const T=()=>{x(),Dn.delete(t)};T.id=-1,Dn.set(t,T),We(T,s)}else Ji(t),x()}}}function Ji(t){const e=Dn.get(t);e&&(e.flags|=8,Dn.delete(t))}Xn().requestIdleCallback;Xn().cancelIdleCallback;const Ks=t=>!!t.type.__asyncLoader,Fa=t=>t.type.__isKeepAlive;function Qc(t,e){qa(t,"a",e)}function Yc(t,e){qa(t,"da",e)}function qa(t,e,s=Re){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(nr(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Fa(r.parent.vnode)&&Xc(n,e,s,r),r=r.parent}}function Xc(t,e,s,n){const r=nr(e,t,n,!0);Ha(()=>{fi(n[e],r)},s)}function nr(t,e,s=Re,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Et();const a=pn(s),l=gt(e,s,t,o);return a(),St(),l});return n?r.unshift(i):r.push(i),i}}const Ot=t=>(e,s=Re)=>{(!on||t==="sp")&&nr(t,(...n)=>e(...n),s)},Zc=Ot("bm"),rr=Ot("m"),eu=Ot("bu"),tu=Ot("u"),su=Ot("bum"),Ha=Ot("um"),nu=Ot("sp"),ru=Ot("rtg"),iu=Ot("rtc");function ou(t,e=Re){nr("ec",t,e)}const au="components";function fn(t,e){return cu(au,t,!0,e)||t}const lu=Symbol.for("v-ndc");function cu(t,e,s=!0,n=!1){const r=Ve||Re;if(r){const i=r.type;{const a=Yu(i,!1);if(a&&(a===e||a===Ye(e)||a===Yn(Ye(e))))return i}const o=zi(r[t]||i[t],e)||zi(r.appContext[t],e);return!o&&n?i:o}}function zi(t,e){return t&&(t[e]||t[Ye(e)]||t[Yn(Ye(e))])}function Fe(t,e,s,n){let r;const i=s,o=W(t);if(o||Ee(t)){const a=o&&Lt(t);let l=!1,u=!1;a&&(l=!ze(t),u=Bt(t),t=er(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(l?u?jn(Ae(t[c])):Ae(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(de(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const qr=t=>t?ul(t)?ar(t):qr(t.parent):null,Vs=Ce(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qr(t.parent),$root:t=>qr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ka(t),$forceUpdate:t=>t.f||(t.f=()=>{Si(t.update)}),$nextTick:t=>t.n||(t.n=sr.bind(t.proxy)),$watch:t=>Pu.bind(t)}),wr=(t,e)=>t!==ue&&!t.__isScriptSetup&&oe(t,e),uu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(wr(n,e))return o[e]=1,n[e];if(r!==ue&&oe(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&oe(u,e))return o[e]=3,i[e];if(s!==ue&&oe(s,e))return o[e]=4,s[e];Hr&&(o[e]=0)}}const c=Vs[e];let d,f;if(c)return e==="$attrs"&&Te(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==ue&&oe(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,oe(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return wr(r,e)?(r[e]=s,!0):n!==ue&&oe(n,e)?(n[e]=s,!0):oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i,type:o}},a){let l,u;return!!(s[a]||t!==ue&&a[0]!=="$"&&oe(t,a)||wr(e,a)||(l=i[0])&&oe(l,a)||oe(n,a)||oe(Vs,a)||oe(r.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:oe(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Qi(t){return W(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Hr=!0;function du(t){const e=Ka(t),s=t.proxy,n=t.ctx;Hr=!1,e.beforeCreate&&Yi(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:b,deactivated:x,beforeDestroy:T,beforeUnmount:w,destroyed:y,unmounted:A,render:I,renderTracked:K,renderTriggered:H,errorCaptured:G,serverPrefetch:V,expose:ve,inheritAttrs:Pe,components:qe,directives:Ne,filters:Wt}=e;if(u&&hu(u,n,null),o)for(const X in o){const re=o[X];Y(re)&&(n[X]=re.bind(s))}if(r){const X=r.call(s,s);de(X)&&(t.data=dn(X))}if(Hr=!0,i)for(const X in i){const re=i[X],vt=Y(re)?re.bind(s,s):Y(re.get)?re.get.bind(s,s):ft,kt=!Y(re)&&Y(re.set)?re.set.bind(s):ft,nt=_e({get:vt,set:kt});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Ue=>nt.value=Ue})}if(a)for(const X in a)Wa(a[X],n,s,X);if(l){const X=Y(l)?l.call(s):l;Reflect.ownKeys(X).forEach(re=>{kn(re,X[re])})}c&&Yi(c,t,"c");function ge(X,re){W(re)?re.forEach(vt=>X(vt.bind(s))):re&&X(re.bind(s))}if(ge(Zc,d),ge(rr,f),ge(eu,h),ge(tu,m),ge(Qc,b),ge(Yc,x),ge(ou,G),ge(iu,K),ge(ru,H),ge(su,w),ge(Ha,A),ge(nu,V),W(ve))if(ve.length){const X=t.exposed||(t.exposed={});ve.forEach(re=>{Object.defineProperty(X,re,{get:()=>s[re],set:vt=>s[re]=vt,enumerable:!0})})}else t.exposed||(t.exposed={});I&&t.render===ft&&(t.render=I),Pe!=null&&(t.inheritAttrs=Pe),qe&&(t.components=qe),Ne&&(t.directives=Ne),V&&Ba(t)}function hu(t,e,s=ft){W(t)&&(t=Wr(t));for(const n in t){const r=t[n];let i;de(r)?"default"in r?i=Qe(r.from||n,r.default,!0):i=Qe(r.from||n):i=Qe(r),be(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Yi(t,e,s){gt(W(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Wa(t,e,s,n){let r=n.includes(".")?rl(s,n):()=>s[n];if(Ee(t)){const i=e[t];Y(i)&&Ss(r,i)}else if(Y(t))Ss(r,t.bind(s));else if(de(t))if(W(t))t.forEach(i=>Wa(i,e,s,n));else{const i=Y(t.handler)?t.handler.bind(s):e[t.handler];Y(i)&&Ss(r,i,t)}}function Ka(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Ln(l,u,o,!0)),Ln(l,e,o)),de(e)&&i.set(e,l),l}function Ln(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Ln(t,i,s,!0),r&&r.forEach(o=>Ln(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=fu[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const fu={data:Xi,props:Zi,emits:Zi,methods:Ms,computed:Ms,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:Ms,directives:Ms,watch:gu,provide:Xi,inject:pu};function Xi(t,e){return e?t?function(){return Ce(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function pu(t,e){return Ms(Wr(t),Wr(e))}function Wr(t){if(W(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ie(t,e){return t?[...new Set([].concat(t,e))]:e}function Ms(t,e){return t?Ce(Object.create(null),t,e):e}function Zi(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:Ce(Object.create(null),Qi(t),Qi(e??{})):e}function gu(t,e){if(!t)return e;if(!e)return t;const s=Ce(Object.create(null),t);for(const n in e)s[n]=Ie(t[n],e[n]);return s}function Va(){return{app:null,config:{isNativeTag:oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vu=0;function mu(t,e){return function(n,r=null){Y(n)||(n=Ce({},n)),r!=null&&!de(r)&&(r=null);const i=Va(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:vu++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Zu,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&Y(c.install)?(o.add(c),c.install(u,...d)):Y(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||Q(n,r);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,c,f),l=!0,u._container=c,c.__vue_app__=u,ar(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(gt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=rs;rs=u;try{return c()}finally{rs=d}}};return u}}let rs=null;function kn(t,e){if(Re){let s=Re.provides;const n=Re.parent&&Re.parent.provides;n===s&&(s=Re.provides=Object.create(n)),s[t]=e}}function Qe(t,e,s=!1){const n=cl();if(n||rs){let r=rs?rs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&Y(e)?e.call(n&&n.proxy):e}}function yu(){return!!(cl()||rs)}const Ga={},Ja=()=>Object.create(Ga),za=t=>Object.getPrototypeOf(t)===Ga;function _u(t,e,s,n=!1){const r={},i=Ja();t.propsDefaults=Object.create(null),Qa(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:Pa(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function bu(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=se(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(ir(t.emitsOptions,f))continue;const h=e[f];if(l)if(oe(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const m=Ye(f);r[m]=Kr(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{Qa(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!oe(e,d)&&((c=qt(d))===d||!oe(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(r[d]=Kr(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!oe(e,d))&&(delete i[d],u=!0)}u&&wt(t.attrs,"set","")}function Qa(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Fs(l))continue;const u=e[l];let c;r&&oe(r,c=Ye(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:ir(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=se(s),u=a||ue;for(let c=0;c<i.length;c++){const d=i[c];s[d]=Kr(r,l,d,u[d],t,!oe(u,d))}}return o}function Kr(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=oe(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Y(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=pn(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===qt(s))&&(n=!0))}return n}const wu=new WeakMap;function Ya(t,e,s=!1){const n=s?wu:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Y(t)){const c=d=>{l=!0;const[f,h]=Ya(d,e,!0);Ce(o,f),h&&a.push(...h)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return de(t)&&n.set(t,bs),bs;if(W(i))for(let c=0;c<i.length;c++){const d=Ye(i[c]);eo(d)&&(o[d]=ue)}else if(i)for(const c in i){const d=Ye(c);if(eo(d)){const f=i[c],h=o[d]=W(f)||Y(f)?{type:f}:Ce({},f),m=h.type;let b=!1,x=!0;if(W(m))for(let T=0;T<m.length;++T){const w=m[T],y=Y(w)&&w.name;if(y==="Boolean"){b=!0;break}else y==="String"&&(x=!1)}else b=Y(m)&&m.name==="Boolean";h[0]=b,h[1]=x,(b||oe(h,"default"))&&a.push(d)}}const u=[o,a];return de(t)&&n.set(t,u),u}function eo(t){return t[0]!=="$"&&!Fs(t)}const Ai=t=>t==="_"||t==="_ctx"||t==="$stable",ki=t=>W(t)?t.map(ut):[ut(t)],xu=(t,e,s)=>{if(e._n)return e;const n=ce((...r)=>ki(e(...r)),s);return n._c=!1,n},Xa=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Ai(r))continue;const i=t[r];if(Y(i))e[r]=xu(r,i,n);else if(i!=null){const o=ki(i);e[r]=()=>o}}},Za=(t,e)=>{const s=ki(e);t.slots.default=()=>s},el=(t,e,s)=>{for(const n in e)(s||!Ai(n))&&(t[n]=e[n])},Eu=(t,e,s)=>{const n=t.slots=Ja();if(t.vnode.shapeFlag&32){const r=e._;r?(el(n,e,s),s&&ua(n,"_",r,!0)):Xa(e,n)}else e&&Za(t,e)},Su=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=ue;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:el(r,e,s):(i=!e.$stable,Xa(e,r)),o=e}else e&&(Za(t,e),o={default:1});if(i)for(const a in r)!Ai(a)&&o[a]==null&&delete r[a]},We=Mu;function Ou(t){return Au(t)}function Au(t,e){const s=Xn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ft,insertStaticContent:m}=t,b=(g,v,_,S=null,k=null,E=null,j=void 0,P=null,C=!!v.dynamicChildren)=>{if(g===v)return;g&&!Us(g,v)&&(S=O(g),Ue(g,k,E,!0),g=null),v.patchFlag===-2&&(C=!1,v.dynamicChildren=null);const{type:R,ref:q,shapeFlag:N}=v;switch(R){case or:x(g,v,_,S);break;case Ft:T(g,v,_,S);break;case Tn:g==null&&w(v,_,S,j);break;case me:qe(g,v,_,S,k,E,j,P,C);break;default:N&1?I(g,v,_,S,k,E,j,P,C):N&6?Ne(g,v,_,S,k,E,j,P,C):(N&64||N&128)&&R.process(g,v,_,S,k,E,j,P,C,M)}q!=null&&k?Ws(q,g&&g.ref,E,v||g,!v):q==null&&g&&g.ref!=null&&Ws(g.ref,null,E,g,!0)},x=(g,v,_,S)=>{if(g==null)n(v.el=a(v.children),_,S);else{const k=v.el=g.el;v.children!==g.children&&u(k,v.children)}},T=(g,v,_,S)=>{g==null?n(v.el=l(v.children||""),_,S):v.el=g.el},w=(g,v,_,S)=>{[g.el,g.anchor]=m(g.children,v,_,S,g.el,g.anchor)},y=({el:g,anchor:v},_,S)=>{let k;for(;g&&g!==v;)k=f(g),n(g,_,S),g=k;n(v,_,S)},A=({el:g,anchor:v})=>{let _;for(;g&&g!==v;)_=f(g),r(g),g=_;r(v)},I=(g,v,_,S,k,E,j,P,C)=>{v.type==="svg"?j="svg":v.type==="math"&&(j="mathml"),g==null?K(v,_,S,k,E,j,P,C):V(g,v,k,E,j,P,C)},K=(g,v,_,S,k,E,j,P)=>{let C,R;const{props:q,shapeFlag:N,transition:B,dirs:J}=g;if(C=g.el=o(g.type,E,q&&q.is,q),N&8?c(C,g.children):N&16&&G(g.children,C,null,S,k,xr(g,E),j,P),J&&Vt(g,null,S,"created"),H(C,g,g.scopeId,j,S),q){for(const he in q)he!=="value"&&!Fs(he)&&i(C,he,null,q[he],E,S);"value"in q&&i(C,"value",null,q.value,E),(R=q.onVnodeBeforeMount)&&at(R,S,g)}J&&Vt(g,null,S,"beforeMount");const te=ku(k,B);te&&B.beforeEnter(C),n(C,v,_),((R=q&&q.onVnodeMounted)||te||J)&&We(()=>{R&&at(R,S,g),te&&B.enter(C),J&&Vt(g,null,S,"mounted")},k)},H=(g,v,_,S,k)=>{if(_&&h(g,_),S)for(let E=0;E<S.length;E++)h(g,S[E]);if(k){let E=k.subTree;if(v===E||ol(E.type)&&(E.ssContent===v||E.ssFallback===v)){const j=k.vnode;H(g,j,j.scopeId,j.slotScopeIds,k.parent)}}},G=(g,v,_,S,k,E,j,P,C=0)=>{for(let R=C;R<g.length;R++){const q=g[R]=P?jt(g[R]):ut(g[R]);b(null,q,v,_,S,k,E,j,P)}},V=(g,v,_,S,k,E,j)=>{const P=v.el=g.el;let{patchFlag:C,dynamicChildren:R,dirs:q}=v;C|=g.patchFlag&16;const N=g.props||ue,B=v.props||ue;let J;if(_&&Gt(_,!1),(J=B.onVnodeBeforeUpdate)&&at(J,_,v,g),q&&Vt(v,g,_,"beforeUpdate"),_&&Gt(_,!0),(N.innerHTML&&B.innerHTML==null||N.textContent&&B.textContent==null)&&c(P,""),R?ve(g.dynamicChildren,R,P,_,S,xr(v,k),E):j||re(g,v,P,null,_,S,xr(v,k),E,!1),C>0){if(C&16)Pe(P,N,B,_,k);else if(C&2&&N.class!==B.class&&i(P,"class",null,B.class,k),C&4&&i(P,"style",N.style,B.style,k),C&8){const te=v.dynamicProps;for(let he=0;he<te.length;he++){const le=te[he],De=N[le],Le=B[le];(Le!==De||le==="value")&&i(P,le,De,Le,k,_)}}C&1&&g.children!==v.children&&c(P,v.children)}else!j&&R==null&&Pe(P,N,B,_,k);((J=B.onVnodeUpdated)||q)&&We(()=>{J&&at(J,_,v,g),q&&Vt(v,g,_,"updated")},S)},ve=(g,v,_,S,k,E,j)=>{for(let P=0;P<v.length;P++){const C=g[P],R=v[P],q=C.el&&(C.type===me||!Us(C,R)||C.shapeFlag&198)?d(C.el):_;b(C,R,q,null,S,k,E,j,!0)}},Pe=(g,v,_,S,k)=>{if(v!==_){if(v!==ue)for(const E in v)!Fs(E)&&!(E in _)&&i(g,E,v[E],null,k,S);for(const E in _){if(Fs(E))continue;const j=_[E],P=v[E];j!==P&&E!=="value"&&i(g,E,P,j,k,S)}"value"in _&&i(g,"value",v.value,_.value,k)}},qe=(g,v,_,S,k,E,j,P,C)=>{const R=v.el=g?g.el:a(""),q=v.anchor=g?g.anchor:a("");let{patchFlag:N,dynamicChildren:B,slotScopeIds:J}=v;J&&(P=P?P.concat(J):J),g==null?(n(R,_,S),n(q,_,S),G(v.children||[],_,q,k,E,j,P,C)):N>0&&N&64&&B&&g.dynamicChildren?(ve(g.dynamicChildren,B,_,k,E,j,P),(v.key!=null||k&&v===k.subTree)&&tl(g,v,!0)):re(g,v,_,q,k,E,j,P,C)},Ne=(g,v,_,S,k,E,j,P,C)=>{v.slotScopeIds=P,g==null?v.shapeFlag&512?k.ctx.activate(v,_,S,j,C):Wt(v,_,S,k,E,j,C):At(g,v,C)},Wt=(g,v,_,S,k,E,j)=>{const P=g.component=Vu(g,S,k);if(Fa(g)&&(P.ctx.renderer=M),Gu(P,!1,j),P.asyncDep){if(k&&k.registerDep(P,ge,j),!g.el){const C=P.subTree=Q(Ft);T(null,C,v,_),g.placeholder=C.el}}else ge(P,g,v,_,k,E,j)},At=(g,v,_)=>{const S=v.component=g.component;if(Du(g,v,_))if(S.asyncDep&&!S.asyncResolved){X(S,v,_);return}else S.next=v,S.update();else v.el=g.el,S.vnode=v},ge=(g,v,_,S,k,E,j)=>{const P=()=>{if(g.isMounted){let{next:N,bu:B,u:J,parent:te,vnode:he}=g;{const it=sl(g);if(it){N&&(N.el=he.el,X(g,N,j)),it.asyncDep.then(()=>{g.isUnmounted||P()});return}}let le=N,De;Gt(g,!1),N?(N.el=he.el,X(g,N,j)):N=he,B&&An(B),(De=N.props&&N.props.onVnodeBeforeUpdate)&&at(De,te,N,he),Gt(g,!0);const Le=so(g),rt=g.subTree;g.subTree=Le,b(rt,Le,d(rt.el),O(rt),g,k,E),N.el=Le.el,le===null&&Lu(g,Le.el),J&&We(J,k),(De=N.props&&N.props.onVnodeUpdated)&&We(()=>at(De,te,N,he),k)}else{let N;const{el:B,props:J}=v,{bm:te,m:he,parent:le,root:De,type:Le}=g,rt=Ks(v);Gt(g,!1),te&&An(te),!rt&&(N=J&&J.onVnodeBeforeMount)&&at(N,le,v),Gt(g,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle(Le);const it=g.subTree=so(g);b(null,it,_,S,g,k,E),v.el=it.el}if(he&&We(he,k),!rt&&(N=J&&J.onVnodeMounted)){const it=v;We(()=>at(N,le,it),k)}(v.shapeFlag&256||le&&Ks(le.vnode)&&le.vnode.shapeFlag&256)&&g.a&&We(g.a,k),g.isMounted=!0,v=_=S=null}};g.scope.on();const C=g.effect=new ma(P);g.scope.off();const R=g.update=C.run.bind(C),q=g.job=C.runIfDirty.bind(C);q.i=g,q.id=g.uid,C.scheduler=()=>Si(q),Gt(g,!0),R()},X=(g,v,_)=>{v.component=g;const S=g.vnode.props;g.vnode=v,g.next=null,bu(g,v.props,S,_),Su(g,v.children,_),Et(),Gi(g),St()},re=(g,v,_,S,k,E,j,P,C=!1)=>{const R=g&&g.children,q=g?g.shapeFlag:0,N=v.children,{patchFlag:B,shapeFlag:J}=v;if(B>0){if(B&128){kt(R,N,_,S,k,E,j,P,C);return}else if(B&256){vt(R,N,_,S,k,E,j,P,C);return}}J&8?(q&16&&Je(R,k,E),N!==R&&c(_,N)):q&16?J&16?kt(R,N,_,S,k,E,j,P,C):Je(R,k,E,!0):(q&8&&c(_,""),J&16&&G(N,_,S,k,E,j,P,C))},vt=(g,v,_,S,k,E,j,P,C)=>{g=g||bs,v=v||bs;const R=g.length,q=v.length,N=Math.min(R,q);let B;for(B=0;B<N;B++){const J=v[B]=C?jt(v[B]):ut(v[B]);b(g[B],J,_,null,k,E,j,P,C)}R>q?Je(g,k,E,!0,!1,N):G(v,_,S,k,E,j,P,C,N)},kt=(g,v,_,S,k,E,j,P,C)=>{let R=0;const q=v.length;let N=g.length-1,B=q-1;for(;R<=N&&R<=B;){const J=g[R],te=v[R]=C?jt(v[R]):ut(v[R]);if(Us(J,te))b(J,te,_,null,k,E,j,P,C);else break;R++}for(;R<=N&&R<=B;){const J=g[N],te=v[B]=C?jt(v[B]):ut(v[B]);if(Us(J,te))b(J,te,_,null,k,E,j,P,C);else break;N--,B--}if(R>N){if(R<=B){const J=B+1,te=J<q?v[J].el:S;for(;R<=B;)b(null,v[R]=C?jt(v[R]):ut(v[R]),_,te,k,E,j,P,C),R++}}else if(R>B)for(;R<=N;)Ue(g[R],k,E,!0),R++;else{const J=R,te=R,he=new Map;for(R=te;R<=B;R++){const He=v[R]=C?jt(v[R]):ut(v[R]);He.key!=null&&he.set(He.key,R)}let le,De=0;const Le=B-te+1;let rt=!1,it=0;const $s=new Array(Le);for(R=0;R<Le;R++)$s[R]=0;for(R=J;R<=N;R++){const He=g[R];if(De>=Le){Ue(He,k,E,!0);continue}let ot;if(He.key!=null)ot=he.get(He.key);else for(le=te;le<=B;le++)if($s[le-te]===0&&Us(He,v[le])){ot=le;break}ot===void 0?Ue(He,k,E,!0):($s[ot-te]=R+1,ot>=it?it=ot:rt=!0,b(He,v[ot],_,null,k,E,j,P,C),De++)}const Bi=rt?Tu($s):bs;for(le=Bi.length-1,R=Le-1;R>=0;R--){const He=te+R,ot=v[He],Fi=v[He+1],qi=He+1<q?Fi.el||Fi.placeholder:S;$s[R]===0?b(null,ot,_,qi,k,E,j,P,C):rt&&(le<0||R!==Bi[le]?nt(ot,_,qi,2):le--)}}},nt=(g,v,_,S,k=null)=>{const{el:E,type:j,transition:P,children:C,shapeFlag:R}=g;if(R&6){nt(g.component.subTree,v,_,S);return}if(R&128){g.suspense.move(v,_,S);return}if(R&64){j.move(g,v,_,M);return}if(j===me){n(E,v,_);for(let N=0;N<C.length;N++)nt(C[N],v,_,S);n(g.anchor,v,_);return}if(j===Tn){y(g,v,_);return}if(S!==2&&R&1&&P)if(S===0)P.beforeEnter(E),n(E,v,_),We(()=>P.enter(E),k);else{const{leave:N,delayLeave:B,afterLeave:J}=P,te=()=>{g.ctx.isUnmounted?r(E):n(E,v,_)},he=()=>{E._isLeaving&&E[zc](!0),N(E,()=>{te(),J&&J()})};B?B(E,te,he):he()}else n(E,v,_)},Ue=(g,v,_,S=!1,k=!1)=>{const{type:E,props:j,ref:P,children:C,dynamicChildren:R,shapeFlag:q,patchFlag:N,dirs:B,cacheIndex:J}=g;if(N===-2&&(k=!1),P!=null&&(Et(),Ws(P,null,_,g,!0),St()),J!=null&&(v.renderCache[J]=void 0),q&256){v.ctx.deactivate(g);return}const te=q&1&&B,he=!Ks(g);let le;if(he&&(le=j&&j.onVnodeBeforeUnmount)&&at(le,v,g),q&6)Kt(g.component,_,S);else{if(q&128){g.suspense.unmount(_,S);return}te&&Vt(g,null,v,"beforeUnmount"),q&64?g.type.remove(g,v,_,M,S):R&&!R.hasOnce&&(E!==me||N>0&&N&64)?Je(R,v,_,!1,!0):(E===me&&N&384||!k&&q&16)&&Je(C,v,_),S&&os(g)}(he&&(le=j&&j.onVnodeUnmounted)||te)&&We(()=>{le&&at(le,v,g),te&&Vt(g,null,v,"unmounted")},_)},os=g=>{const{type:v,el:_,anchor:S,transition:k}=g;if(v===me){as(_,S);return}if(v===Tn){A(g);return}const E=()=>{r(_),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(g.shapeFlag&1&&k&&!k.persisted){const{leave:j,delayLeave:P}=k,C=()=>j(_,E);P?P(g.el,E,C):C()}else E()},as=(g,v)=>{let _;for(;g!==v;)_=f(g),r(g),g=_;r(v)},Kt=(g,v,_)=>{const{bum:S,scope:k,job:E,subTree:j,um:P,m:C,a:R}=g;to(C),to(R),S&&An(S),k.stop(),E&&(E.flags|=8,Ue(j,g,v,_)),P&&We(P,v),We(()=>{g.isUnmounted=!0},v)},Je=(g,v,_,S=!1,k=!1,E=0)=>{for(let j=E;j<g.length;j++)Ue(g[j],v,_,S,k)},O=g=>{if(g.shapeFlag&6)return O(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const v=f(g.anchor||g.el),_=v&&v[Gc];return _?f(_):v};let U=!1;const $=(g,v,_)=>{g==null?v._vnode&&Ue(v._vnode,null,null,!0):b(v._vnode||null,g,v,null,null,null,_),v._vnode=g,U||(U=!0,Gi(),Ua(),U=!1)},M={p:b,um:Ue,m:nt,r:os,mt:Wt,mc:G,pc:re,pbc:ve,n:O,o:t};return{render:$,hydrate:void 0,createApp:mu($)}}function xr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Gt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ku(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tl(t,e,s=!1){const n=t.children,r=e.children;if(W(n)&&W(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=jt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&tl(o,a)),a.type===or&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ft&&!a.el&&(a.el=o.el)}}function Tu(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function sl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sl(e)}function to(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ru=Symbol.for("v-scx"),Cu=()=>Qe(Ru);function Ss(t,e,s){return nl(t,e,s)}function nl(t,e,s=ue){const{immediate:n,deep:r,flush:i,once:o}=s,a=Ce({},s),l=e&&n||!e&&i!=="post";let u;if(on){if(i==="sync"){const h=Cu();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=ft,h.resume=ft,h.pause=ft,h}}const c=Re;a.call=(h,m,b)=>gt(h,c,m,b);let d=!1;i==="post"?a.scheduler=h=>{We(h,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():Si(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Hc(t,e,a);return on&&(u?u.push(f):l&&f()),f}function Pu(t,e,s){const n=this.proxy,r=Ee(t)?t.includes(".")?rl(n,t):()=>n[t]:t.bind(n,n);let i;Y(e)?i=e:(i=e.handler,s=e);const o=pn(this),a=nl(r,i.bind(n),s);return o(),a}function rl(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Iu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ye(e)}Modifiers`]||t[`${qt(e)}Modifiers`];function ju(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ue;let r=s;const i=e.startsWith("update:"),o=i&&Iu(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>Ee(c)?c.trim():c)),o.number&&(r=s.map(Pn)));let a,l=n[a=vr(e)]||n[a=vr(Ye(e))];!l&&i&&(l=n[a=vr(qt(e))]),l&&gt(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gt(u,t,6,r)}}const $u=new WeakMap;function il(t,e,s=!1){const n=s?$u:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Y(t)){const l=u=>{const c=il(u,e,!0);c&&(a=!0,Ce(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(de(t)&&n.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):Ce(o,i),de(t)&&n.set(t,o),o)}function ir(t,e){return!t||!Jn(e)?!1:(e=e.slice(2).replace(/Once$/,""),oe(t,e[0].toLowerCase()+e.slice(1))||oe(t,qt(e))||oe(t,e))}function so(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:b}=t,x=Un(t);let T,w;try{if(s.shapeFlag&4){const A=r||n,I=A;T=ut(u.call(I,A,c,d,h,f,m)),w=a}else{const A=e;T=ut(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),w=e.props?a:Nu(a)}}catch(A){Gs.length=0,tr(A,t,1),T=Q(Ft)}let y=T;if(w&&b!==!1){const A=Object.keys(w),{shapeFlag:I}=y;A.length&&I&7&&(i&&A.some(hi)&&(w=Uu(w,i)),y=ks(y,w,!1,!0))}return s.dirs&&(y=ks(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(s.dirs):s.dirs),s.transition&&Oi(y,s.transition),T=y,Un(x),T}const Nu=t=>{let e;for(const s in t)(s==="class"||s==="style"||Jn(s))&&((e||(e={}))[s]=t[s]);return e},Uu=(t,e)=>{const s={};for(const n in t)(!hi(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Du(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?no(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==n[f]&&!ir(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?no(n,o,u):!0:!!o;return!1}function no(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!ir(s,i))return!0}return!1}function Lu({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const ol=t=>t.__isSuspense;function Mu(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):Vc(t)}const me=Symbol.for("v-fgt"),or=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),Tn=Symbol.for("v-stc"),Gs=[];let Ge=null;function D(t=!1){Gs.push(Ge=t?null:[])}function Bu(){Gs.pop(),Ge=Gs[Gs.length-1]||null}let nn=1;function Mn(t,e=!1){nn+=t,t<0&&Ge&&e&&(Ge.hasOnce=!0)}function al(t){return t.dynamicChildren=nn>0?Ge||bs:null,Bu(),nn>0&&Ge&&Ge.push(t),t}function L(t,e,s,n,r,i){return al(p(t,e,s,n,r,i,!0))}function rn(t,e,s,n,r){return al(Q(t,e,s,n,r,!0))}function Bn(t){return t?t.__v_isVNode===!0:!1}function Us(t,e){return t.type===e.type&&t.key===e.key}const ll=({key:t})=>t??null,Rn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ee(t)||be(t)||Y(t)?{i:Ve,r:t,k:e,f:!!s}:t:null);function p(t,e=null,s=null,n=0,r=null,i=t===me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ll(e),ref:e&&Rn(e),scopeId:La,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ve};return a?(Ti(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),nn>0&&!o&&Ge&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ge.push(l),l}const Q=Fu;function Fu(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===lu)&&(t=Ft),Bn(t)){const a=ks(t,e,!0);return s&&Ti(a,s),nn>0&&!i&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(t)]=a:Ge.push(a)),a.patchFlag=-2,a}if(Xu(t)&&(t=t.__vccOpts),e){e=qu(e);let{class:a,style:l}=e;a&&!Ee(a)&&(e.class=Mt(a)),de(l)&&(xi(l)&&!W(l)&&(l=Ce({},l)),e.style=gi(l))}const o=Ee(t)?1:ol(t)?128:Jc(t)?64:de(t)?4:Y(t)?2:0;return p(t,e,s,n,r,o,i,!0)}function qu(t){return t?xi(t)||za(t)?Ce({},t):t:null}function ks(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Hu(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ll(u),ref:e&&e.ref?s&&i?W(i)?i.concat(Rn(e)):[i,Rn(e)]:Rn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ks(t.ssContent),ssFallback:t.ssFallback&&ks(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Oi(c,l.clone(c)),c}function ae(t=" ",e=0){return Q(or,null,t,e)}function ro(t,e){const s=Q(Tn,null,t);return s.staticCount=e,s}function ht(t="",e=!1){return e?(D(),rn(Ft,null,t)):Q(Ft,null,t)}function ut(t){return t==null||typeof t=="boolean"?Q(Ft):W(t)?Q(me,null,t.slice()):Bn(t)?jt(t):Q(or,null,String(t))}function jt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ks(t)}function Ti(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(W(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Ti(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!za(e)?e._ctx=Ve:r===3&&Ve&&(Ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:Ve},s=32):(e=String(e),n&64?(s=16,e=[ae(e)]):s=8);t.children=e,t.shapeFlag|=s}function Hu(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Mt([e.class,n.class]));else if(r==="style")e.style=gi([e.style,n.style]);else if(Jn(r)){const i=e[r],o=n[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function at(t,e,s,n=null){gt(t,e,7,[s,n])}const Wu=Va();let Ku=0;function Vu(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||Wu,i={uid:Ku++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(n,r),emitsOptions:il(n,r),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:n.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ju.bind(null,i),t.ce&&t.ce(i),i}let Re=null;const cl=()=>Re||Ve;let Fn,Vr;{const t=Xn(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Fn=e("__VUE_INSTANCE_SETTERS__",s=>Re=s),Vr=e("__VUE_SSR_SETTERS__",s=>on=s)}const pn=t=>{const e=Re;return Fn(t),t.scope.on(),()=>{t.scope.off(),Fn(e)}},io=()=>{Re&&Re.scope.off(),Fn(null)};function ul(t){return t.vnode.shapeFlag&4}let on=!1;function Gu(t,e=!1,s=!1){e&&Vr(e);const{props:n,children:r}=t.vnode,i=ul(t);_u(t,n,i,e),Eu(t,r,s||e);const o=i?Ju(t,e):void 0;return e&&Vr(!1),o}function Ju(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uu);const{setup:n}=s;if(n){Et();const r=t.setupContext=n.length>1?Qu(t):null,i=pn(t),o=hn(n,t,0,[t.props,r]),a=aa(o);if(St(),i(),(a||t.sp)&&!Ks(t)&&Ba(t),a){if(o.then(io,io),e)return o.then(l=>{oo(t,l)}).catch(l=>{tr(l,t,0)});t.asyncDep=o}else oo(t,o)}else dl(t)}function oo(t,e,s){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=ja(e)),dl(t)}function dl(t,e,s){const n=t.type;t.render||(t.render=n.render||ft);{const r=pn(t);Et();try{du(t)}finally{St(),r()}}}const zu={get(t,e){return Te(t,"get",""),t[e]}};function Qu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,zu),slots:t.slots,emit:t.emit,expose:e}}function ar(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ja(Ei(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Vs)return Vs[s](t)},has(e,s){return s in e||s in Vs}})):t.proxy}function Yu(t,e=!0){return Y(t)?t.displayName||t.name:t.name||e&&t.__name}function Xu(t){return Y(t)&&"__vccOpts"in t}const _e=(t,e)=>Fc(t,e,on);function hl(t,e,s){try{Mn(-1);const n=arguments.length;return n===2?de(e)&&!W(e)?Bn(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Bn(s)&&(s=[s]),Q(t,e,s))}finally{Mn(1)}}const Zu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gr;const ao=typeof window<"u"&&window.trustedTypes;if(ao)try{Gr=ao.createPolicy("vue",{createHTML:t=>t})}catch{}const fl=Gr?t=>Gr.createHTML(t):t=>t,ed="http://www.w3.org/2000/svg",td="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,lo=_t&&_t.createElement("template"),sd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?_t.createElementNS(ed,t):e==="mathml"?_t.createElementNS(td,t):s?_t.createElement(t,{is:s}):_t.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>_t.createTextNode(t),createComment:t=>_t.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_t.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{lo.innerHTML=fl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=lo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},nd=Symbol("_vtc");function rd(t,e,s){const n=t[nd];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const co=Symbol("_vod"),id=Symbol("_vsh"),od=Symbol(""),ad=/(?:^|;)\s*display\s*:/;function ld(t,e,s){const n=t.style,r=Ee(s);let i=!1;if(s&&!r){if(e)if(Ee(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Cn(n,a,"")}else for(const o in e)s[o]==null&&Cn(n,o,"");for(const o in s)o==="display"&&(i=!0),Cn(n,o,s[o])}else if(r){if(e!==s){const o=n[od];o&&(s+=";"+o),n.cssText=s,i=ad.test(s)}}else e&&t.removeAttribute("style");co in t&&(t[co]=i?n.display:"",t[id]&&(n.display="none"))}const uo=/\s*!important$/;function Cn(t,e,s){if(W(s))s.forEach(n=>Cn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=cd(t,e);uo.test(s)?t.setProperty(qt(n),s.replace(uo,""),"important"):t[n]=s}}const ho=["Webkit","Moz","ms"],Er={};function cd(t,e){const s=Er[e];if(s)return s;let n=Ye(e);if(n!=="filter"&&n in t)return Er[e]=n;n=Yn(n);for(let r=0;r<ho.length;r++){const i=ho[r]+n;if(i in t)return Er[e]=i}return e}const fo="http://www.w3.org/1999/xlink";function po(t,e,s,n,r,i=dc(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(fo,e.slice(6,e.length)):t.setAttributeNS(fo,e,s):s==null||i&&!da(s)?t.removeAttribute(e):t.setAttribute(e,i?"":pt(s)?String(s):s)}function go(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?fl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=da(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function Xt(t,e,s,n){t.addEventListener(e,s,n)}function ud(t,e,s,n){t.removeEventListener(e,s,n)}const vo=Symbol("_vei");function dd(t,e,s,n,r=null){const i=t[vo]||(t[vo]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=hd(e);if(n){const u=i[e]=gd(n,r);Xt(t,a,u,l)}else o&&(ud(t,a,o,l),i[e]=void 0)}}const mo=/(?:Once|Passive|Capture)$/;function hd(t){let e;if(mo.test(t)){e={};let n;for(;n=t.match(mo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qt(t.slice(2)),e]}let Sr=0;const fd=Promise.resolve(),pd=()=>Sr||(fd.then(()=>Sr=0),Sr=Date.now());function gd(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;gt(vd(n,s.value),e,5,[n])};return s.value=t,s.attached=pd(),s}function vd(t,e){if(W(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const yo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,md=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?rd(t,n,o):e==="style"?ld(t,s,n):Jn(e)?hi(e)||dd(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yd(t,e,n,o))?(go(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&po(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ee(n))?go(t,Ye(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),po(t,e,n,o))};function yd(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&yo(e)&&Y(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return yo(e)&&Ee(s)?!1:e in t}const qn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?s=>An(e,s):e};function _d(t){t.target.composing=!0}function _o(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Os=Symbol("_assign"),gn={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[Os]=qn(r);const i=n||r.props&&r.props.type==="number";Xt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Pn(a)),t[Os](a)}),s&&Xt(t,"change",()=>{t.value=t.value.trim()}),e||(Xt(t,"compositionstart",_d),Xt(t,"compositionend",_o),Xt(t,"change",_o))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Os]=qn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Pn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},Js={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=zn(e);Xt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Pn(Hn(o)):Hn(o));t[Os](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,sr(()=>{t._assigning=!1})}),t[Os]=qn(n)},mounted(t,{value:e}){bo(t,e)},beforeUpdate(t,e,s){t[Os]=qn(s)},updated(t,{value:e}){t._assigning||bo(t,e)}};function bo(t,e){const s=t.multiple,n=W(e);if(!(s&&!n&&!zn(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Hn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=fc(e,a)>-1}else o.selected=e.has(a);else if(Zn(Hn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Hn(t){return"_value"in t?t._value:t.value}const bd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vn=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const i=qt(r.key);if(e.some(o=>o===i||bd[o]===i))return t(r)})},wd=Ce({patchProp:md},sd);let wo;function xd(){return wo||(wo=Ou(wd))}const Ed=(...t)=>{const e=xd().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=Od(n);if(!r)return;const i=e._component;!Y(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Sd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Sd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Od(t){return Ee(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let pl;const lr=t=>pl=t,gl=Symbol();function Jr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zs||(zs={}));function Ad(){const t=ga(!0),e=t.run(()=>ne({}));let s=[],n=[];const r=Ei({install(i){lr(r),r._a=i,i.provide(gl,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const vl=()=>{};function xo(t,e,s,n=vl){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!s&&va()&&pc(r),r}function cs(t,...e){t.slice().forEach(s=>{s(...e)})}const kd=t=>t(),Eo=Symbol(),Or=Symbol();function zr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];Jr(r)&&Jr(n)&&t.hasOwnProperty(s)&&!be(n)&&!Lt(n)?t[s]=zr(r,n):t[s]=n}return t}const Td=Symbol();function Rd(t){return!Jr(t)||!t.hasOwnProperty(Td)}const{assign:Ct}=Object;function Cd(t){return!!(be(t)&&t.effect)}function Pd(t,e,s,n){const{state:r,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=r?r():{});const c=Dc(s.state.value[t]);return Ct(c,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Ei(_e(()=>{lr(s);const h=s._s.get(t);return o[f].call(h,h)})),d),{}))}return l=ml(t,u,e,s,n,!0),l}function ml(t,e,s={},n,r,i){let o;const a=Ct({actions:{}},s),l={deep:!0};let u,c,d=[],f=[],h;const m=n.state.value[t];!i&&!m&&(n.state.value[t]={}),ne({});let b;function x(G){let V;u=c=!1,typeof G=="function"?(G(n.state.value[t]),V={type:zs.patchFunction,storeId:t,events:h}):(zr(n.state.value[t],G),V={type:zs.patchObject,payload:G,storeId:t,events:h});const ve=b=Symbol();sr().then(()=>{b===ve&&(u=!0)}),c=!0,cs(d,V,n.state.value[t])}const T=i?function(){const{state:V}=s,ve=V?V():{};this.$patch(Pe=>{Ct(Pe,ve)})}:vl;function w(){o.stop(),d=[],f=[],n._s.delete(t)}const y=(G,V="")=>{if(Eo in G)return G[Or]=V,G;const ve=function(){lr(n);const Pe=Array.from(arguments),qe=[],Ne=[];function Wt(X){qe.push(X)}function At(X){Ne.push(X)}cs(f,{args:Pe,name:ve[Or],store:I,after:Wt,onError:At});let ge;try{ge=G.apply(this&&this.$id===t?this:I,Pe)}catch(X){throw cs(Ne,X),X}return ge instanceof Promise?ge.then(X=>(cs(qe,X),X)).catch(X=>(cs(Ne,X),Promise.reject(X))):(cs(qe,ge),ge)};return ve[Eo]=!0,ve[Or]=V,ve},A={_p:n,$id:t,$onAction:xo.bind(null,f),$patch:x,$reset:T,$subscribe(G,V={}){const ve=xo(d,G,V.detached,()=>Pe()),Pe=o.run(()=>Ss(()=>n.state.value[t],qe=>{(V.flush==="sync"?c:u)&&G({storeId:t,type:zs.direct,events:h},qe)},Ct({},l,V)));return ve},$dispose:w},I=dn(A);n._s.set(t,I);const H=(n._a&&n._a.runWithContext||kd)(()=>n._e.run(()=>(o=ga()).run(()=>e({action:y}))));for(const G in H){const V=H[G];if(be(V)&&!Cd(V)||Lt(V))i||(m&&Rd(V)&&(be(V)?V.value=m[G]:zr(V,m[G])),n.state.value[t][G]=V);else if(typeof V=="function"){const ve=y(V,G);H[G]=ve,a.actions[G]=V}}return Ct(I,H),Ct(se(I),H),Object.defineProperty(I,"$state",{get:()=>n.state.value[t],set:G=>{x(V=>{Ct(V,G)})}}),n._p.forEach(G=>{Ct(I,o.run(()=>G({store:I,app:n._a,pinia:n,options:a})))}),m&&i&&s.hydrate&&s.hydrate(I.$state,m),u=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function Id(t,e,s){let n,r;const i=typeof e=="function";n=t,r=i?s:e;function o(a,l){const u=yu();return a=a||(u?Qe(gl,null):null),a&&lr(a),a=pl,a._s.has(n)||(i?ml(n,e,r,a):Pd(n,r,a)),a._s.get(n)}return o.$id=n,o}const jd={id:"app"},$d={__name:"App",setup(t){return(e,s)=>{const n=fn("router-view");return D(),L("div",jd,[Q(n)])}}};/*!
 * vue-router v4.6.0
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ms=typeof document<"u";function yl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Nd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&yl(t.default)}const ie=Object.assign;function Ar(t,e){const s={};for(const n in e){const r=e[n];s[n]=st(r)?r.map(t):t(r)}return s}const Qs=()=>{},st=Array.isArray;function So(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const _l=/#/g,Ud=/&/g,Dd=/\//g,Ld=/=/g,Md=/\?/g,bl=/\+/g,Bd=/%5B/g,Fd=/%5D/g,wl=/%5E/g,qd=/%60/g,xl=/%7B/g,Hd=/%7C/g,El=/%7D/g,Wd=/%20/g;function Ri(t){return t==null?"":encodeURI(""+t).replace(Hd,"|").replace(Bd,"[").replace(Fd,"]")}function Kd(t){return Ri(t).replace(xl,"{").replace(El,"}").replace(wl,"^")}function Qr(t){return Ri(t).replace(bl,"%2B").replace(Wd,"+").replace(_l,"%23").replace(Ud,"%26").replace(qd,"`").replace(xl,"{").replace(El,"}").replace(wl,"^")}function Vd(t){return Qr(t).replace(Ld,"%3D")}function Gd(t){return Ri(t).replace(_l,"%23").replace(Md,"%3F")}function Jd(t){return Gd(t).replace(Dd,"%2F")}function an(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const zd=/\/$/,Qd=t=>t.replace(zd,"");function kr(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),r=t(i)),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=eh(n??e,s),{fullPath:n+i+o,path:n,query:r,hash:an(o)}}function Yd(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Oo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Xd(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Ts(e.matched[n],s.matched[r])&&Sl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ts(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Sl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Zd(t[s],e[s]))return!1;return!0}function Zd(t,e){return st(t)?Ao(t,e):st(e)?Ao(e,t):t===e}function Ao(t,e){return st(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function eh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Tt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Yr=function(t){return t.pop="pop",t.push="push",t}({}),Tr=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function th(t){if(!t)if(ms){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qd(t)}const sh=/^[^#]+#/;function nh(t,e){return t.replace(sh,"#")+e}function rh(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const cr=()=>({left:window.scrollX,top:window.scrollY});function ih(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=rh(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ko(t,e){return(history.state?history.state.position-e:-1)+t}const Xr=new Map;function oh(t,e){Xr.set(t,e)}function ah(t){const e=Xr.get(t);return Xr.delete(t),e}function lh(t){return typeof t=="string"||t&&typeof t=="object"}function Ol(t){return typeof t=="string"||typeof t=="symbol"}let ye=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const Al=Symbol("");ye.MATCHER_NOT_FOUND+"",ye.NAVIGATION_GUARD_REDIRECT+"",ye.NAVIGATION_ABORTED+"",ye.NAVIGATION_CANCELLED+"",ye.NAVIGATION_DUPLICATED+"";function Rs(t,e){return ie(new Error,{type:t,[Al]:!0},e)}function yt(t,e){return t instanceof Error&&Al in t&&(e==null||!!(t.type&e))}const ch=["params","query","hash"];function uh(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of ch)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function dh(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(bl," "),i=r.indexOf("="),o=an(i<0?r:r.slice(0,i)),a=i<0?null:an(r.slice(i+1));if(o in e){let l=e[o];st(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function To(t){let e="";for(let s in t){const n=t[s];if(s=Vd(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(st(n)?n.map(r=>r&&Qr(r)):[n&&Qr(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function hh(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=st(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const fh=Symbol(""),Ro=Symbol(""),ur=Symbol(""),Ci=Symbol(""),Zr=Symbol("");function Ds(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function $t(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Rs(ye.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):lh(f)?l(Rs(ye.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(n&&n.instances[r],e,s,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Rr(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(yl(l)){const u=(l.__vccOpts||l)[e];u&&i.push($t(u,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Nd(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&$t(f,s,n,o,a,r)()}))}}return i}function ph(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ts(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ts(u,l))||r.push(l))}return[s,n,r]}/*!
 * vue-router v4.6.0
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gh=()=>location.protocol+"//"+location.host;function kl(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),Oo(a,"")}return Oo(s,t)+n+r}function vh(t,e,s,n){let r=[],i=[],o=null;const a=({state:f})=>{const h=kl(t,location),m=s.value,b=e.value;let x=0;if(f){if(s.value=h,e.value=f,o&&o===m){o=null;return}x=b?f.position-b.position:0}else n(h);r.forEach(T=>{T(s.value,m,{delta:x,type:Yr.pop,direction:x?x>0?Tr.forward:Tr.back:Tr.unknown})})};function l(){o=s.value}function u(f){r.push(f);const h=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(h),h}function c(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ie({},f.state,{scroll:cr()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:l,listen:u,destroy:d}}function Co(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?cr():null}}function mh(t){const{history:e,location:s}=window,n={value:kl(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:gh()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),s[c?"replace":"assign"](f)}}function o(l,u){i(l,ie({},e.state,Co(r.value.back,l,r.value.forward,!0),u,{position:r.value.position}),!0),n.value=l}function a(l,u){const c=ie({},r.value,e.state,{forward:l,scroll:cr()});i(c.current,c,!0),i(l,ie({},Co(n.value,l,null),{position:c.position+1},u),!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function yh(t){t=th(t);const e=mh(t),s=vh(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=ie({location:"",base:t,go:n,createHref:nh.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let ts=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Se=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Se||{});const _h={type:ts.Static,value:""},bh=/[a-zA-Z0-9_]/;function wh(t){if(!t)return[[]];if(t==="/")return[[_h]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${s})/"${u}": ${h}`)}let s=Se.Static,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(s===Se.Static?i.push({type:ts.Static,value:u}):s===Se.Param||s===Se.ParamRegExp||s===Se.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:ts.Param,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==Se.ParamRegExp){n=s,s=Se.EscapeNext;continue}switch(s){case Se.Static:l==="/"?(u&&d(),o()):l===":"?(d(),s=Se.Param):f();break;case Se.EscapeNext:f(),s=n;break;case Se.Param:l==="("?s=Se.ParamRegExp:bh.test(l)?f():(d(),s=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Se.ParamRegExp:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=Se.ParamRegExpEnd:c+=l;break;case Se.ParamRegExpEnd:d(),s=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===Se.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}const Po="[^/]+?",xh={sensitive:!1,strict:!1,start:!0,end:!0};var je=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(je||{});const Eh=/[.+*?^${}()[\]/\\]/g;function Sh(t,e){const s=ie({},xh,e),n=[];let r=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[je.Root];s.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=je.Segment+(s.sensitive?je.BonusCaseSensitive:0);if(f.type===ts.Static)d||(r+="/"),r+=f.value.replace(Eh,"\\$&"),h+=je.Static;else if(f.type===ts.Param){const{value:m,repeatable:b,optional:x,regexp:T}=f;i.push({name:m,repeatable:b,optional:x});const w=T||Po;if(w!==Po){h+=je.BonusCustomRegExp;try{`${w}`}catch(A){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+A.message)}}let y=b?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(y=x&&u.length<2?`(?:/${y})`:"/"+y),x&&(y+="?"),r+=y,h+=je.Dynamic,x&&(h+=je.BonusOptional),b&&(h+=je.BonusRepeatable),w===".*"&&(h+=je.BonusWildcard)}c.push(h)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=je.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",m=i[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===ts.Static)c+=h.value;else if(h.type===ts.Param){const{value:m,repeatable:b,optional:x}=h,T=m in u?u[m]:"";if(st(T)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=st(T)?T.join("/"):T;if(!w)if(x)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=w}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Oh(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===je.Static+je.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===je.Static+je.Segment?1:-1:0}function Tl(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=Oh(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Io(n))return 1;if(Io(r))return-1}return r.length-n.length}function Io(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ah={strict:!1,end:!0,sensitive:!1};function kh(t,e,s){const n=Sh(wh(t.path),s),r=ie(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Th(t,e){const s=[],n=new Map;e=So(Ah,e);function r(d){return n.get(d)}function i(d,f,h){const m=!h,b=$o(d);b.aliasOf=h&&h.record;const x=So(e,d),T=[b];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const I of A)T.push($o(ie({},b,{components:h?h.record.components:b.components,path:I,aliasOf:h?h.record:b})))}let w,y;for(const A of T){const{path:I}=A;if(f&&I[0]!=="/"){const K=f.record.path,H=K[K.length-1]==="/"?"":"/";A.path=f.record.path+(I&&H+I)}if(w=kh(A,f,x),h?h.alias.push(w):(y=y||w,y!==w&&y.alias.push(w),m&&d.name&&!No(w)&&o(d.name)),Rl(w)&&l(w),b.children){const K=b.children;for(let H=0;H<K.length;H++)i(K[H],w,h&&h.children[H])}h=h||w}return y?()=>{o(y)}:Qs}function o(d){if(Ol(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=Ph(d,s);s.splice(f,0,d),d.record.name&&!No(d)&&n.set(d.record.name,d)}function u(d,f){let h,m={},b,x;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw Rs(ye.MATCHER_NOT_FOUND,{location:d});x=h.record.name,m=ie(jo(f.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&jo(d.params,h.keys.map(y=>y.name))),b=h.stringify(m)}else if(d.path!=null)b=d.path,h=s.find(y=>y.re.test(b)),h&&(m=h.parse(b),x=h.record.name);else{if(h=f.name?n.get(f.name):s.find(y=>y.re.test(f.path)),!h)throw Rs(ye.MATCHER_NOT_FOUND,{location:d,currentLocation:f});x=h.record.name,m=ie({},f.params,d.params),b=h.stringify(m)}const T=[];let w=h;for(;w;)T.unshift(w.record),w=w.parent;return{name:x,path:b,params:m,matched:T,meta:Ch(T)}}t.forEach(d=>i(d));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function jo(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function $o(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Rh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Rh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function No(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ch(t){return t.reduce((e,s)=>ie(e,s.meta),{})}function Ph(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Tl(t,e[i])<0?n=i:s=i+1}const r=Ih(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function Ih(t){let e=t;for(;e=e.parent;)if(Rl(e)&&Tl(t,e)===0)return e}function Rl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Uo(t){const e=Qe(ur),s=Qe(Ci),n=_e(()=>{const l=xs(t.to);return e.resolve(l)}),r=_e(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=s.matched;if(!c||!d.length)return-1;const f=d.findIndex(Ts.bind(null,c));if(f>-1)return f;const h=Do(l[u-2]);return u>1&&Do(c)===h&&d[d.length-1].path!==h?d.findIndex(Ts.bind(null,l[u-2])):f}),i=_e(()=>r.value>-1&&Dh(s.params,n.value.params)),o=_e(()=>r.value>-1&&r.value===s.matched.length-1&&Sl(s.params,n.value.params));function a(l={}){if(Uh(l)){const u=e[xs(t.replace)?"replace":"push"](xs(t.to)).catch(Qs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:_e(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function jh(t){return t.length===1?t[0]:t}const $h=Ma({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Uo,setup(t,{slots:e}){const s=dn(Uo(t)),{options:n}=Qe(ur),r=_e(()=>({[Lo(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Lo(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&jh(e.default(s));return t.custom?i:hl("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Nh=$h;function Uh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Dh(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!st(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Do(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lo=(t,e,s)=>t??e??s,Lh=Ma({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Qe(Zr),r=_e(()=>t.route||n.value),i=Qe(Ro,0),o=_e(()=>{let u=xs(i);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=_e(()=>r.value.matched[o.value]);kn(Ro,_e(()=>o.value+1)),kn(fh,a),kn(Zr,r);const l=ne();return Ss(()=>[l.value,a.value,t.name],([u,c,d],[f,h,m])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Ts(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return Mo(s.default,{Component:f,route:u});const h=d.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,x=hl(f,ie({},m,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Mo(s.default,{Component:x,route:u})||x}}});function Mo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Mh=Lh;function Bh(t){const e=Th(t.routes,t),s=t.parseQuery||dh,n=t.stringifyQuery||To,r=t.history,i=Ds(),o=Ds(),a=Ds(),l=$c(Tt);let u=Tt;ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ar.bind(null,O=>""+O),d=Ar.bind(null,Jd),f=Ar.bind(null,an);function h(O,U){let $,M;return Ol(O)?($=e.getRecordMatcher(O),M=U):M=O,e.addRoute(M,$)}function m(O){const U=e.getRecordMatcher(O);U&&e.removeRoute(U)}function b(){return e.getRoutes().map(O=>O.record)}function x(O){return!!e.getRecordMatcher(O)}function T(O,U){if(U=ie({},U||l.value),typeof O=="string"){const _=kr(s,O,U.path),S=e.resolve({path:_.path},U),k=r.createHref(_.fullPath);return ie(_,S,{params:f(S.params),hash:an(_.hash),redirectedFrom:void 0,href:k})}let $;if(O.path!=null)$=ie({},O,{path:kr(s,O.path,U.path).path});else{const _=ie({},O.params);for(const S in _)_[S]==null&&delete _[S];$=ie({},O,{params:d(_)}),U.params=d(U.params)}const M=e.resolve($,U),ee=O.hash||"";M.params=c(f(M.params));const g=Yd(n,ie({},O,{hash:Kd(ee),path:M.path})),v=r.createHref(g);return ie({fullPath:g,hash:ee,query:n===To?hh(O.query):O.query||{}},M,{redirectedFrom:void 0,href:v})}function w(O){return typeof O=="string"?kr(s,O,l.value.path):ie({},O)}function y(O,U){if(u!==O)return Rs(ye.NAVIGATION_CANCELLED,{from:U,to:O})}function A(O){return H(O)}function I(O){return A(ie(w(O),{replace:!0}))}function K(O,U){const $=O.matched[O.matched.length-1];if($&&$.redirect){const{redirect:M}=$;let ee=typeof M=="function"?M(O,U):M;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=w(ee):{path:ee},ee.params={}),ie({query:O.query,hash:O.hash,params:ee.path!=null?{}:O.params},ee)}}function H(O,U){const $=u=T(O),M=l.value,ee=O.state,g=O.force,v=O.replace===!0,_=K($,M);if(_)return H(ie(w(_),{state:typeof _=="object"?ie({},ee,_.state):ee,force:g,replace:v}),U||$);const S=$;S.redirectedFrom=U;let k;return!g&&Xd(n,M,$)&&(k=Rs(ye.NAVIGATION_DUPLICATED,{to:S,from:M}),nt(M,M,!0,!1)),(k?Promise.resolve(k):ve(S,M)).catch(E=>yt(E)?yt(E,ye.NAVIGATION_GUARD_REDIRECT)?E:kt(E):re(E,S,M)).then(E=>{if(E){if(yt(E,ye.NAVIGATION_GUARD_REDIRECT))return H(ie({replace:v},w(E.to),{state:typeof E.to=="object"?ie({},ee,E.to.state):ee,force:g}),U||S)}else E=qe(S,M,!0,v,ee);return Pe(S,M,E),E})}function G(O,U){const $=y(O,U);return $?Promise.reject($):Promise.resolve()}function V(O){const U=as.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(O):O()}function ve(O,U){let $;const[M,ee,g]=ph(O,U);$=Rr(M.reverse(),"beforeRouteLeave",O,U);for(const _ of M)_.leaveGuards.forEach(S=>{$.push($t(S,O,U))});const v=G.bind(null,O,U);return $.push(v),Je($).then(()=>{$=[];for(const _ of i.list())$.push($t(_,O,U));return $.push(v),Je($)}).then(()=>{$=Rr(ee,"beforeRouteUpdate",O,U);for(const _ of ee)_.updateGuards.forEach(S=>{$.push($t(S,O,U))});return $.push(v),Je($)}).then(()=>{$=[];for(const _ of g)if(_.beforeEnter)if(st(_.beforeEnter))for(const S of _.beforeEnter)$.push($t(S,O,U));else $.push($t(_.beforeEnter,O,U));return $.push(v),Je($)}).then(()=>(O.matched.forEach(_=>_.enterCallbacks={}),$=Rr(g,"beforeRouteEnter",O,U,V),$.push(v),Je($))).then(()=>{$=[];for(const _ of o.list())$.push($t(_,O,U));return $.push(v),Je($)}).catch(_=>yt(_,ye.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function Pe(O,U,$){a.list().forEach(M=>V(()=>M(O,U,$)))}function qe(O,U,$,M,ee){const g=y(O,U);if(g)return g;const v=U===Tt,_=ms?history.state:{};$&&(M||v?r.replace(O.fullPath,ie({scroll:v&&_&&_.scroll},ee)):r.push(O.fullPath,ee)),l.value=O,nt(O,U,$,v),kt()}let Ne;function Wt(){Ne||(Ne=r.listen((O,U,$)=>{if(!Kt.listening)return;const M=T(O),ee=K(M,Kt.currentRoute.value);if(ee){H(ie(ee,{replace:!0,force:!0}),M).catch(Qs);return}u=M;const g=l.value;ms&&oh(ko(g.fullPath,$.delta),cr()),ve(M,g).catch(v=>yt(v,ye.NAVIGATION_ABORTED|ye.NAVIGATION_CANCELLED)?v:yt(v,ye.NAVIGATION_GUARD_REDIRECT)?(H(ie(w(v.to),{force:!0}),M).then(_=>{yt(_,ye.NAVIGATION_ABORTED|ye.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===Yr.pop&&r.go(-1,!1)}).catch(Qs),Promise.reject()):($.delta&&r.go(-$.delta,!1),re(v,M,g))).then(v=>{v=v||qe(M,g,!1),v&&($.delta&&!yt(v,ye.NAVIGATION_CANCELLED)?r.go(-$.delta,!1):$.type===Yr.pop&&yt(v,ye.NAVIGATION_ABORTED|ye.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),Pe(M,g,v)}).catch(Qs)}))}let At=Ds(),ge=Ds(),X;function re(O,U,$){kt(O);const M=ge.list();return M.length?M.forEach(ee=>ee(O,U,$)):console.error(O),Promise.reject(O)}function vt(){return X&&l.value!==Tt?Promise.resolve():new Promise((O,U)=>{At.add([O,U])})}function kt(O){return X||(X=!O,Wt(),At.list().forEach(([U,$])=>O?$(O):U()),At.reset()),O}function nt(O,U,$,M){const{scrollBehavior:ee}=t;if(!ms||!ee)return Promise.resolve();const g=!$&&ah(ko(O.fullPath,0))||(M||!$)&&history.state&&history.state.scroll||null;return sr().then(()=>ee(O,U,g)).then(v=>v&&ih(v)).catch(v=>re(v,O,U))}const Ue=O=>r.go(O);let os;const as=new Set,Kt={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:b,resolve:T,options:t,push:A,replace:I,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:vt,install(O){O.component("RouterLink",Nh),O.component("RouterView",Mh),O.config.globalProperties.$router=Kt,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>xs(l)}),ms&&!os&&l.value===Tt&&(os=!0,A(r.location).catch(M=>{}));const U={};for(const M in Tt)Object.defineProperty(U,M,{get:()=>l.value[M],enumerable:!0});O.provide(ur,Kt),O.provide(Ci,Pa(U)),O.provide(Zr,l);const $=O.unmount;as.add(O),O.unmount=function(){as.delete(O),as.size<1&&(u=Tt,Ne&&Ne(),Ne=null,l.value=Tt,os=!1,X=!1),$()}}};function Je(O){return O.reduce((U,$)=>U.then(()=>V($)),Promise.resolve())}return Kt}function Pi(){return Qe(ur)}function Cl(t){return Qe(Ci)}const Ps=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Fh={class:"min-h-screen bg-gray-50 text-gray-800 font-sans"},qh={class:"py-16 bg-white"},Hh={class:"container mx-auto px-8"},Wh={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6"},Kh=["onClick"],Vh={class:"aspect-square overflow-hidden rounded-lg mb-3"},Gh=["src"],Jh={class:"text-center font-medium group-hover:text-blue-600 transition-colors"},zh={class:"py-16 bg-gray-50"},Qh={class:"container mx-auto px-8"},Yh={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6"},Xh=["onClick"],Zh={class:"mx-auto mb-4 w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-md"},ef=["src"],tf={class:"font-medium group-hover:text-blue-600 transition-colors"},sf={class:"text-sm text-gray-500 mt-1"},nf={class:"py-16 bg-white"},rf={class:"container mx-auto px-8"},of={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},af={class:"p-6"},lf={class:"flex justify-between items-start mb-4"},cf={class:"text-xl font-bold"},uf={class:"text-gray-600 mb-4 line-clamp-3"},df={class:"flex items-center justify-between"},hf={class:"flex items-center"},ff={class:"w-8 h-8 rounded-full overflow-hidden mr-2"},pf=["src"],gf={class:"text-sm"},vf={class:"text-xs bg-gray-100 px-2 py-1 rounded"},mf={__name:"Home",setup(t){const e=ne([{name:"先秦",image:"https://ai-public.mastergo.com/ai/img_res/6732a6b4fb7285204c7878fc5364fcd0.jpg"},{name:"汉朝",image:"https://ai-public.mastergo.com/ai/img_res/d3f63381c12e915b075d4306a0181919.jpg"},{name:"魏晋",image:"https://ai-public.mastergo.com/ai/img_res/0bb057c4874e0e9b93f4139d3010aa8a.jpg"},{name:"唐朝",image:"https://ai-public.mastergo.com/ai/img_res/506b44a57f5da0231b608cdc06bfe185.jpg"},{name:"宋朝",image:"https://ai-public.mastergo.com/ai/img_res/285fcc5c354ee0c7425a1060cca68472.jpg"},{name:"明清",image:"https://ai-public.mastergo.com/ai/img_res/fcaa347ad7358791844eeb91ab6de56f.jpg"}]),s=ne([{name:"李白",dynasty:"唐朝",avatar:"https://ai-public.mastergo.com/ai/img_res/8739879f2b60076c21e6c956d7ae7c12.jpg"},{name:"杜甫",dynasty:"唐朝",avatar:"https://ai-public.mastergo.com/ai/img_res/e045225d07d3433b81e1fde47bfa88c5.jpg"},{name:"苏轼",dynasty:"宋朝",avatar:"https://ai-public.mastergo.com/ai/img_res/de5ad59e1b164fd15ccca039b7f5f55f.jpg"},{name:"辛弃疾",dynasty:"宋朝",avatar:"https://ai-public.mastergo.com/ai/img_res/44cc889134c891765cc9bd2b63f69608.jpg"},{name:"李清照",dynasty:"宋朝",avatar:"https://ai-public.mastergo.com/ai/img_res/53a824c485a461639165d9962127ea10.jpg"},{name:"纳兰性德",dynasty:"清朝",avatar:"https://ai-public.mastergo.com/ai/img_res/dfa183d21ca2fa336e646fdbace95267.jpg"}]),n=ne([{title:"静夜思",author:"李白",dynasty:"唐朝",excerpt:"床前明月光，疑是地上霜。举头望明月，低头思故乡。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/8739879f2b60076c21e6c956d7ae7c12.jpg"},{title:"春望",author:"杜甫",dynasty:"唐朝",excerpt:"国破山河在，城春草木深。感时花溅泪，恨别鸟惊心。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/e045225d07d3433b81e1fde47bfa88c5.jpg"},{title:"水调歌头",author:"苏轼",dynasty:"宋朝",excerpt:"明月几时有？把酒问青天。不知天上宫阙，今夕是何年。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/de5ad59e1b164fd15ccca039b7f5f55f.jpg"},{title:"青玉案·元夕",author:"辛弃疾",dynasty:"宋朝",excerpt:"东风夜放花千树，更吹落、星如雨。宝马雕车香满路。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/44cc889134c891765cc9bd2b63f69608.jpg"},{title:"声声慢",author:"李清照",dynasty:"宋朝",excerpt:"寻寻觅觅，冷冷清清，凄凄惨惨戚戚。乍暖还寒时候，最难将息。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/53a824c485a461639165d9962127ea10.jpg"},{title:"木兰词",author:"纳兰性德",dynasty:"清朝",excerpt:"人生若只如初见，何事秋风悲画扇。等闲变却故人心，却道故人心易变。",authorAvatar:"https://ai-public.mastergo.com/ai/img_res/dfa183d21ca2fa336e646fdbace95267.jpg"}]),r=o=>{console.log(`Navigating to dynasty: ${o}`)},i=o=>{console.log(`Navigating to author: ${o}`)};return(o,a)=>(D(),L("div",Fh,[a[4]||(a[4]=ro('<header class="bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50" data-v-80045d1e><div class="flex items-center space-x-2" data-v-80045d1e><i class="fas fa-book text-2xl text-gray-700" data-v-80045d1e></i><h1 class="text-xl font-bold tracking-wider" data-v-80045d1e>古韵诗语</h1></div><nav class="hidden md:flex space-x-6" data-v-80045d1e><a href="#" class="font-medium hover:text-gray-500 transition-colors" data-v-80045d1e>首页</a><a href="#" class="font-medium hover:text-gray-500 transition-colors" data-v-80045d1e>朝代</a><a href="#" class="font-medium hover:text-gray-500 transition-colors" data-v-80045d1e>诗人</a><a href="#" class="font-medium hover:text-gray-500 transition-colors" data-v-80045d1e>赏析</a><a href="#" class="font-medium hover:text-gray-500 transition-colors" data-v-80045d1e>收藏</a></nav><div class="relative w-64" data-v-80045d1e><input type="text" placeholder="搜索诗词或作者..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm" data-v-80045d1e><i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm" data-v-80045d1e></i></div></header><section class="relative h-[500px] overflow-hidden" data-v-80045d1e><div class="absolute inset-0 bg-cover bg-center opacity-90" style="background-image:url(&#39;https://ai-public.mastergo.com/ai/img_res/bd892487d6637c55cdcc21429374b7ec.jpg&#39;);" data-v-80045d1e></div><div class="absolute inset-0 bg-gradient-to-r from-black/60 to-transparent" data-v-80045d1e></div><div class="relative container mx-auto px-8 py-24 flex flex-col justify-center h-full text-white max-w-3xl" data-v-80045d1e><h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight" data-v-80045d1e> 探索千年诗意<br data-v-80045d1e>感受翰墨风华 </h1><p class="text-lg mb-8 max-w-2xl" data-v-80045d1e> 在这里，您可以品读唐诗宋词的绝世风华，领略古代文人的情怀与智慧。每一首诗词都是历史的回响，每一段文字都承载着深厚的文化底蕴。 </p><div class="flex space-x-4" data-v-80045d1e><button class="!rounded-button whitespace-nowrap bg-white text-gray-800 px-6 py-3 font-semibold hover:bg-gray-100 transition-colors" data-v-80045d1e> 开始探索 </button><button class="!rounded-button whitespace-nowrap border-2 border-white text-white px-6 py-3 font-semibold hover:bg-white/10 transition-colors" data-v-80045d1e> 了解我们 </button></div></div></section>',2)),p("section",qh,[p("div",Hh,[a[0]||(a[0]=p("h2",{class:"text-3xl font-bold text-center mb-12"},"按朝代浏览",-1)),p("div",Wh,[(D(!0),L(me,null,Fe(e.value,(l,u)=>(D(),L("div",{key:u,class:"group cursor-pointer",onClick:c=>r(l.name)},[p("div",Vh,[p("img",{src:l.image,alt:"",class:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300"},null,8,Gh)]),p("h3",Jh,Z(l.name),1)],8,Kh))),128))])])]),p("section",zh,[p("div",Qh,[a[1]||(a[1]=p("h2",{class:"text-3xl font-bold text-center mb-12"},"名家风采",-1)),p("div",Yh,[(D(!0),L(me,null,Fe(s.value,(l,u)=>(D(),L("div",{key:u,class:"group cursor-pointer text-center",onClick:c=>i(l.name)},[p("div",Zh,[p("img",{src:l.avatar,alt:"",class:"w-full h-full object-cover object-top group-hover:scale-105 transition-transform duration-300"},null,8,ef)]),p("h3",tf,Z(l.name),1),p("p",sf,Z(l.dynasty),1)],8,Xh))),128))])])]),p("section",nf,[p("div",rf,[a[3]||(a[3]=p("div",{class:"flex justify-between items-center mb-12"},[p("h2",{class:"text-3xl font-bold"},"精选诗词"),p("button",{class:"!rounded-button whitespace-nowrap text-blue-600 border border-blue-600 px-4 py-2 hover:bg-blue-50 transition-colors"}," 查看更多 ")],-1)),p("div",of,[(D(!0),L(me,null,Fe(n.value,(l,u)=>(D(),L("div",{key:u,class:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow"},[p("div",af,[p("div",lf,[p("h3",cf,Z(l.title),1),a[2]||(a[2]=p("button",{class:"text-gray-400 hover:text-red-500"},[p("i",{class:"far fa-heart"})],-1))]),p("p",uf,Z(l.excerpt),1),p("div",df,[p("div",hf,[p("div",ff,[p("img",{src:l.authorAvatar,alt:"",class:"w-full h-full object-cover"},null,8,pf)]),p("span",gf,Z(l.author),1)]),p("span",vf,Z(l.dynasty),1)])])]))),128))])])]),a[5]||(a[5]=ro('<footer class="bg-gray-900 text-white pt-16 pb-8" data-v-80045d1e><div class="container mx-auto px-8" data-v-80045d1e><div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12" data-v-80045d1e><div data-v-80045d1e><h3 class="text-xl font-bold mb-4" data-v-80045d1e>古韵诗语</h3><p class="text-gray-400" data-v-80045d1e> 致力于传承中华古典诗词文化，为诗词爱好者提供高质量的鉴赏与学习平台。 </p></div><div data-v-80045d1e><h4 class="font-bold mb-4" data-v-80045d1e>快速链接</h4><ul class="space-y-2 text-gray-400" data-v-80045d1e><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>首页</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>朝代大全</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>诗人名录</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>诗词分类</a></li></ul></div><div data-v-80045d1e><h4 class="font-bold mb-4" data-v-80045d1e>关于我们</h4><ul class="space-y-2 text-gray-400" data-v-80045d1e><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>项目介绍</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>团队成员</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>联系我们</a></li><li data-v-80045d1e><a href="#" class="hover:text-white transition-colors" data-v-80045d1e>版权声明</a></li></ul></div><div data-v-80045d1e><h4 class="font-bold mb-4" data-v-80045d1e>关注我们</h4><div class="flex space-x-4 mb-4" data-v-80045d1e><a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-blue-600 transition-colors" data-v-80045d1e><i class="fab fa-weibo" data-v-80045d1e></i></a><a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-green-600 transition-colors" data-v-80045d1e><i class="fab fa-weixin" data-v-80045d1e></i></a><a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-blue-400 transition-colors" data-v-80045d1e><i class="fab fa-twitter" data-v-80045d1e></i></a></div><p class="text-gray-400 text-sm" data-v-80045d1e>扫码关注公众号获取最新资讯</p></div></div><div class="pt-8 border-t border-gray-800 text-center text-gray-500 text-sm" data-v-80045d1e> © 2023 古韵诗语 版权所有 | 京ICP备12345678号 | 文网文[2023]12345678号 </div></div></footer>',1))]))}},yf=Ps(mf,[["__scopeId","data-v-80045d1e"]]),Ii=Id("poem",()=>{const t=ne([]);return{collectedPoems:t,addToCollection:a=>{t.value.some(l=>l.id===a.id)||t.value.push(a)},removeFromCollection:a=>{t.value=t.value.filter(l=>l.id!==a)},clearCollection:()=>{t.value=[]},isPoemCollected:a=>t.value.some(l=>l.id===a),collectionCount:()=>t.value.length,collectionByDynasty:()=>{const a={};return t.value.forEach(l=>{const u=l.dynasty||"未知朝代";a[u]||(a[u]=[]),a[u].push(l)}),a}}}),_f={class:"poem-card bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 overflow-hidden"},bf={class:"p-6"},wf={class:"flex justify-between items-start mb-4"},xf={class:"text-xl font-bold text-gray-800 line-clamp-1"},Ef={class:"text-gray-600 mb-3 line-clamp-3 leading-relaxed"},Sf={class:"flex items-center justify-between"},Of={class:"flex items-center"},Af={class:"w-8 h-8 rounded-full overflow-hidden mr-3 bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center"},kf={class:"text-white text-sm font-medium"},Tf={class:"text-sm font-medium text-gray-700"},Rf={class:"text-xs text-gray-500 ml-2"},Cf={class:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium"},Pf={__name:"PoemCard",props:{poem:Object},setup(t){const e=t,s=Ii(),n=_e(()=>s.isPoemCollected(e.poem.id)),r=()=>{n.value?s.removeFromCollection(e.poem.id):s.addToCollection(e.poem)};return(i,o)=>(D(),L("div",_f,[p("div",bf,[p("div",wf,[p("h3",xf,Z(t.poem.title),1),p("button",{onClick:r,class:Mt(["text-gray-400 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-red-50",{"text-red-500":n.value}])},[p("i",{class:Mt(["fas",(n.value,"fa-heart")])},null,2)],2)]),p("p",Ef,Z(t.poem.content),1),p("div",Sf,[p("div",Of,[p("div",Af,[p("span",kf,Z(t.poem.author.charAt(0)),1)]),p("div",null,[p("span",Tf,Z(t.poem.author),1),p("span",Rf,Z(t.poem.dynasty||"未知朝代"),1)])]),p("span",Cf,Z(t.poem.dynasty||"未知"),1)])])]))}},ji=Ps(Pf,[["__scopeId","data-v-86f688cb"]]),If={class:"pagination flex justify-center items-center space-x-2 my-8"},jf=["disabled"],$f=["onClick"],Nf=["disabled"],Uf={class:"text-sm text-gray-500 ml-4"},Df={__name:"Pagination",props:{total:Number,perPage:Number,currentPage:Number},emits:["page-change"],setup(t,{emit:e}){const s=t,n=e,r=_e(()=>Math.ceil(s.total/s.perPage)),i=_e(()=>{const o=[],a=Math.max(1,s.currentPage-2),l=Math.min(r.value,s.currentPage+2);for(let u=a;u<=l;u++)o.push(u);return o});return(o,a)=>(D(),L("div",If,[p("button",{onClick:a[0]||(a[0]=l=>n("page-change",t.currentPage-1)),disabled:t.currentPage===1,class:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," 上一页 ",8,jf),(D(!0),L(me,null,Fe(i.value,l=>(D(),L("button",{key:l,onClick:u=>n("page-change",l),class:Mt(["px-4 py-2 rounded-lg border transition-colors",t.currentPage===l?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])},Z(l),11,$f))),128)),p("button",{onClick:a[1]||(a[1]=l=>n("page-change",t.currentPage+1)),disabled:t.currentPage===r.value,class:"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," 下一页 ",8,Nf),p("span",Uf," 第 "+Z(t.currentPage)+" 页 / 共 "+Z(r.value)+" 页 ",1)]))}},Lf="modulepreload",Mf=function(t){return"/"+t},Bo={},mn=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(s.map(l=>{if(l=Mf(l),l in Bo)return;Bo[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Lf,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class $i extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Fo extends $i{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qo extends $i{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ho extends $i{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ei;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ei||(ei={}));var Ff=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class qf{constructor(e,{headers:s={},customFetch:n,region:r=ei.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Bf(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ff(this,arguments,void 0,function*(s,n={}){var r;try{const{headers:i,method:o,body:a,signal:l}=n;let u={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${s}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const h=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(T=>{throw T.name==="AbortError"?T:new Fo(T)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new qo(h);if(!h.ok)throw new Ho(h);let b=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return b==="application/json"?x=yield h.json():b==="application/octet-stream"?x=yield h.blob():b==="text/event-stream"?x=h:b==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Fo(i)}:{data:null,error:i,response:i instanceof Ho||i instanceof qo?i.context:void 0}}})}}var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Be={},Ni={},dr={},yn={},hr={},fr={},Wf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cs=Wf();const Kf=Cs.fetch,Pl=Cs.fetch.bind(Cs),Il=Cs.Headers,Vf=Cs.Request,Gf=Cs.Response,Is=Object.freeze(Object.defineProperty({__proto__:null,Headers:Il,Request:Vf,Response:Gf,default:Pl,fetch:Kf},Symbol.toStringTag,{value:"Module"})),Jf=Hf(Is);var pr={};Object.defineProperty(pr,"__esModule",{value:!0});let zf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};pr.default=zf;var jl=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});const Qf=jl(Jf),Yf=jl(pr);let Xf=class{constructor(e){var s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=w:d=JSON.parse(w))}const x=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),T=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&T&&T.length>1&&(f=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,m="OK")}catch{i.status===404&&x===""?(h=204,m="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new Yf.default(c)}return{error:c,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}returns(){return this}overrideTypes(){return this}};fr.default=Xf;var Zf=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hr,"__esModule",{value:!0});const ep=Zf(fr);let tp=class extends ep.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};hr.default=tp;var sp=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});const np=sp(hr);let rp=class extends np.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};yn.default=rp;var ip=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dr,"__esModule",{value:!0});const Ls=ip(yn);let op=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(s),this.schema=n,this.fetch=r}select(e,s){const{head:n=!1,count:r}=s??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Ls.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:n=!0}={}){var r;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ls.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ls.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var n;const r="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Ls.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var s;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ls.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};dr.default=op;var $l=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const ap=$l(dr),lp=$l(yn);let cp=class Nl{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new ap.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Nl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||r?(a=n?"HEAD":"GET",Object.entries(s).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",u=s);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new lp.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ni.default=cp;var js=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const Ul=js(Ni);Be.PostgrestClient=Ul.default;const Dl=js(dr);Be.PostgrestQueryBuilder=Dl.default;const Ll=js(yn);Be.PostgrestFilterBuilder=Ll.default;const Ml=js(hr);Be.PostgrestTransformBuilder=Ml.default;const Bl=js(fr);Be.PostgrestBuilder=Bl.default;const Fl=js(pr);Be.PostgrestError=Fl.default;var up=Be.default={PostgrestClient:Ul.default,PostgrestQueryBuilder:Dl.default,PostgrestFilterBuilder:Ll.default,PostgrestTransformBuilder:Ml.default,PostgrestBuilder:Bl.default,PostgrestError:Fl.default};const{PostgrestClient:dp,PostgrestQueryBuilder:Ty,PostgrestFilterBuilder:Ry,PostgrestTransformBuilder:Cy,PostgrestBuilder:Py,PostgrestError:Iy}=up;class hp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fp="2.75.0",pp=`realtime-js/${fp}`,gp="1.0.0",ti=1e4,vp=1e3,mp=100;var Ys;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ys||(Ys={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var si;(function(t){t.websocket="websocket"})(si||(si={}));var Zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zt||(Zt={}));class yp{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ql{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(fe||(fe={}));const Wo=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=_p(o,t,e,r),i),{}):{}},_p=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Hl(i,o):ni(o)},Hl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Ep(e,s)}switch(t){case fe.bool:return bp(e);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return wp(e);case fe.json:case fe.jsonb:return xp(e);case fe.timestamp:return Sp(e);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return ni(e);default:return ni(e)}},ni=t=>t,bp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ep=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Hl(e,a))}return t},Sp=t=>typeof t=="string"?t.replace(" ","T"):t,Wl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Cr{constructor(e,s,n={},r=ti){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ko;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ko||(Ko={}));class Xs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xs.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Xs.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),m=c.filter(x=>h.indexOf(x.presence_ref)<0),b=d.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(a[u]=m),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vo||(Vo={}));var Zs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zs||(Zs={}));var bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class Ui{constructor(e,s={config:{}},n){var r,i;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Cr(this,et.join,this.params,this.timeout),this.rejoinTimer=new ql(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Xs(this),this.broadcastEndpointURL=Wl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Zs.PRESENCE]&&this.bindings[Zs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(bt.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(bt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(m=b==null?void 0:b.length)!==null&&m!==void 0?m:0,T=[];for(let w=0;w<x;w++){const y=b[w],{filter:{event:A,schema:I,table:K,filter:H}}=y,G=h&&h[w];if(G&&G.event===A&&G.schema===I&&G.table===K&&G.filter===H)T.push(Object.assign(Object.assign({},y),{id:G.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(bt.SUBSCRIBED);return}}).receive("error",h=>{this.state=Oe.errored,e==null||e(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===Oe.joined&&e===Zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Cr(this,et.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Cr(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=et;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(h=>{var m,b,x;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(b=h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,b,x,T,w,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const A=h.id,I=(m=h.filter)===null||m===void 0?void 0:m.event;return A&&((b=s.ids)===null||b===void 0?void 0:b.includes(A))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(w=(T=h==null?void 0:h.filter)===null||T===void 0?void 0:T.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return A==="*"||A===((y=s==null?void 0:s.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:b,table:x,commit_timestamp:T,type:w,errors:y}=m;f=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:T,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ui.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Wo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Wo(e.columns,e.old_record)),s}}const Pr=()=>{},En={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Op=[1e3,2e3,5e3,1e4],Ap=1e4,kp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tp{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ti,this.transport=null,this.heartbeatIntervalMs=En.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pr,this.ref=0,this.reconnectTimer=null,this.logger=Pr,this.conn=null,this.sendBuffer=[],this.serializer=new yp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>mn(async()=>{const{default:a}=await Promise.resolve().then(()=>Is);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${si.websocket}`,this.httpEndpoint=Wl(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gp}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Zt.Connecting;case Ys.open:return Zt.Open;case Ys.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new Ui(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(vp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},En.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([kp],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:pp};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ql(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},En.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,i,o,a,l,u,c;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ti,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:En.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Pr,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Op[d-1]||Ap,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Di extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Rp extends Di{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ri extends Di{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Cp=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Kl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Pp=()=>Cp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mn(()=>Promise.resolve().then(()=>Is),void 0)).Response:Response}),ii=t=>{if(Array.isArray(t))return t.map(s=>ii(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=ii(n)}),e},Ip=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var is=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ir=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jp=(t,e,s)=>is(void 0,void 0,void 0,function*(){const n=yield Pp();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new Rp(Ir(r),i,o))}).catch(r=>{e(new ri(Ir(r),r))}):e(new ri(Ir(t),t))}),$p=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?r:(Ip(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n)):r.body=n,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),s))};function _n(t,e,s,n,r,i){return is(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,$p(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jp(l,a,n))})})}function Wn(t,e,s,n){return is(this,void 0,void 0,function*(){return _n(t,"GET",e,s,n)})}function ct(t,e,s,n,r){return is(this,void 0,void 0,function*(){return _n(t,"POST",e,n,r,s)})}function oi(t,e,s,n,r){return is(this,void 0,void 0,function*(){return _n(t,"PUT",e,n,r,s)})}function Np(t,e,s,n){return is(this,void 0,void 0,function*(){return _n(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Vl(t,e,s,n,r){return is(this,void 0,void 0,function*(){return _n(t,"DELETE",e,n,r,s)})}var Up=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Dp{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Up(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xe(e))return{data:null,error:e};throw e}})}}var Lp=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Mp{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new Dp(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return Lp(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xe(e))return{data:null,error:e};throw e}})}}var Me=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Bp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fp{constructor(e,s={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=Kl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,r){return Me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Go),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield(e=="PUT"?oi:ct)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(xe(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Go.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield oi(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Di("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}update(e,s,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Me(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield ct(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Me(this,void 0,void 0,function*(){try{const r=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}download(e,s){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Wn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Mp(l,this.shouldThrowOnError)}info(e){return Me(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Wn(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ii(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}exists(e){return Me(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Np(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n)&&n instanceof ri){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}list(e,s,n){return Me(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Bp),s),{prefix:e||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}listV2(e,s){return Me(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const qp="2.75.0",Hp={"X-Client-Info":`storage-js/${qp}`};var us=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Wp{constructor(e,s={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hp),s),this.fetch=Kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return us(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(xe(e))return{data:null,error:e};throw e}})}getBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}createBucket(e){return us(this,arguments,void 0,function*(s,n={public:!1}){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return us(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return us(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xe(s))return{data:null,error:s};throw s}})}}class Kp extends Wp{constructor(e,s={},n,r){super(e,s,n,r)}from(e){return new Fp(this.url,this.headers,e,this.fetch)}}const Vp="2.75.0";let Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";const Gp={"X-Client-Info":`supabase-js-${Bs}/${Vp}`},Jp={headers:Gp},zp={schema:"public"},Qp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yp={};var Xp=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Zp=t=>{let e;return t?e=t:typeof fetch>"u"?e=Pl:e=fetch,(...s)=>e(...s)},eg=()=>typeof Headers>"u"?Il:Headers,tg=(t,e,s)=>{const n=Zp(s),r=eg();return(i,o)=>Xp(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var sg=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function ng(t){return t.endsWith("/")?t:t+"/"}function rg(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>sg(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function ig(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gl="2.75.0",ys=30*1e3,ai=3,jr=ai*ys,og="http://localhost:9999",ag="supabase.auth.token",lg={"X-Client-Info":`gotrue-js/${Gl}`},li="X-Supabase-Api-Version",Jl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ug=10*60*1e3;class ln extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class dg extends ln{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function hg(t){return F(t)&&t.name==="AuthApiError"}class es extends ln{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ht extends ln{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Pt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fg(t){return F(t)&&t.name==="AuthSessionMissingError"}class ds extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sn extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class On extends Ht{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pg(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jo extends Ht{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ci extends Ht{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function $r(t){return F(t)&&t.name==="AuthRetryableFetchError"}class zo extends Ht{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class ui extends Ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qo=` 	
\r=`.split(""),gg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qo.length;e+=1)t[Qo[e].charCodeAt(0)]=-2;for(let e=0;e<Kn.length;e+=1)t[Kn[e].charCodeAt(0)]=e;return t})();function Yo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Kn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(Kn[n]),e.queuedBits-=6}}function zl(t,e,s){const n=gg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{yg(o,n,s)};for(let o=0;o<t.length;o+=1)zl(t.charCodeAt(o),r,i);return e.join("")}function vg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mg(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}vg(n,e)}}function yg(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function As(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)zl(t.charCodeAt(r),s,n);return new Uint8Array(e)}function _g(t){const e=[];return mg(t,s=>e.push(s)),new Uint8Array(e)}function ss(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>Yo(r,s,n)),Yo(null,s,n),e.join("")}function bg(t){return Math.round(Date.now()/1e3)+t}function wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Ql=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function xg(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const Yl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>mn(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Eg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_s=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},zt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Rt=async(t,e)=>{await t.removeItem(e)};class gr{constructor(){this.promise=new gr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}gr.promiseConstructor=Promise;function Nr(t){const e=t.split(".");if(e.length!==3)throw new ui("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!cg.test(e[n]))throw new ui("JWT not in base64url format");return{header:JSON.parse(Xo(e[0])),payload:JSON.parse(Xo(e[1])),signature:As(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Og(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Ag(t){return("0"+t.toString(16)).substr(-2)}function kg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Ag).join("")}async function Tg(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Rg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Tg(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hs(t,e,s=!1){const n=kg();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await _s(t,`${e}-code-verifier`,r);const i=await Rg(n);return[i,n===i?"plain":"s256"]}const Cg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pg(t){const e=t.headers.get(li);if(!e||!e.match(Cg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ig(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fs(t){if(!$g.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ur(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zo(t){return JSON.parse(JSON.stringify(t))}var Ng=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Yt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ug=[502,503,504];async function ea(t){var e;if(!Eg(t))throw new ci(Yt(t),0);if(Ug.includes(t.status))throw new ci(Yt(t),t.status);let s;try{s=await t.json()}catch(i){throw new es(Yt(i),i)}let n;const r=Pg(t);if(r&&r.getTime()>=Jl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new zo(Yt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zo(Yt(s),t.status,s.weak_password.reasons);throw new dg(Yt(s),t.status||500,n)}const Dg=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function z(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[li]||(i[li]=Jl["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Lg(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Lg(t,e,s,n,r,i){const o=Dg(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new ci(Yt(l),0)}if(a.ok||await ea(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ea(l)}}function Ze(t){var e;let s=null;Fg(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=bg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function ta(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Mg(t){return{data:t,error:null}}function Bg(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=Ng(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sa(t){return t}function Fg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dr=["global","local","others"];var qg=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Hg{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Yl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Dr[0]){if(Dr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dr.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Nt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=qg(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Bg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nt})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:sa});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){fs(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nt})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){fs(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Nt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){fs(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Nt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fs(e.userId);try{const{data:s,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(e){fs(e.userId),fs(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:sa});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const b=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(F(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}}function na(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const ps={debug:!!(globalThis&&Ql()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wg extends Xl{}async function Kg(t,e,s){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Vg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zl(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Gg(t){return parseInt(t,16)}function Jg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function zg(t){var e;const{chainId:s,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Zl(t.address),m=c?`${c}://${n}`:n,b=t.statement?`${t.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${h}

${b}`;let T=`URI: ${d}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(T+=`
Expiration Time: ${r.toISOString()}`),a&&(T+=`
Not Before: ${a.toISOString()}`),l&&(T+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);w+=`
- ${y}`}T+=w}return`${x}
${T}`}class we extends Error{constructor({message:e,code:s,cause:n,name:r}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=r??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class Vn extends we{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Qg({error:t,options:e}){var s,n,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(tc(o)){if(i.rp.id!==o)return new we({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Yg({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new we({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(tc(n)){if(s.rpId!==n)return new we({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var ec=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Xg{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Zg=new Xg;function ev(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,r=ec(t,["challenge","user","excludeCredentials"]),i=As(e).buffer,o=Object.assign(Object.assign({},s),{id:As(s.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:As(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function tv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=ec(t,["challenge","allowCredentials"]),r=As(e).buffer,i=Object.assign(Object.assign({},n),{challenge:r});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:As(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function sv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:ss(new Uint8Array(t.response.attestationObject)),clientDataJSON:ss(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ss(new Uint8Array(r.authenticatorData)),clientDataJSON:ss(new Uint8Array(r.clientDataJSON)),signature:ss(new Uint8Array(r.signature)),userHandle:r.userHandle?ss(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ra(){var t,e;return!!(Ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vn("Browser returned unexpected credential type",e)}:{data:null,error:new Vn("Empty credential response",e)}}catch(e){return{data:null,error:Qg({error:e,options:t})}}}async function iv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vn("Browser returned unexpected credential type",e)}:{data:null,error:new Vn("Empty credential response",e)}}catch(e){return{data:null,error:Yg({error:e,options:t})}}}const ov={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},av={userVerification:"preferred",hints:["security-key"]};function Gn(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),s=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of t)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(s(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Gn(a,o):n[i]=Gn(o)}else n[i]=o}return n}function lv(t,e){return Gn(ov,t,e||{})}function cv(t,e){return Gn(av,t,e||{})}class uv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:r},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=r??Zg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=lv(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await rv({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=cv(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await iv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new es("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!s)return{data:null,error:new ln("rpId is required for WebAuthn authentication")};try{if(!ra())return{data:null,error:new es("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new es("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!s)return{data:null,error:new ln("rpId is required for WebAuthn registration")};try{if(!ra())return{data:null,error:new es("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new es("Unexpected error in register",o)}}}}Vg();const dv={url:og,storageKey:ag,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ia(t,e,s){return await s()}const gs={};class cn{get jwks(){var e,s;return(s=(e=gs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=gs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:e})}constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cn.nextInstanceID,cn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},dv),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Hg({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Yl(r.fetch),this.lock=r.lock||ia,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ke()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Kg:this.lock=ia,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uv(this)},this.persistSession?(r.storage?this.storage=r.storage:Ql()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=na(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=na(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=xg(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),pg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?{error:s}:{error:new es("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ze}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await hs(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Ze})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ze})}else throw new Sn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ta})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ta})}else throw new Sn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ds}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,r,i,o,a,l,u,c,d,f;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:b,wallet:x,statement:T,options:w}=e;let y;if(Ke())if(typeof x=="object")y=x;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")y=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const A=new URL((s=w==null?void 0:w.url)!==null&&s!==void 0?s:window.location.href),I=await y.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Zl(I[0]);let H=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const V=await y.request({method:"eth_chainId"});H=Gg(V)}const G={domain:A.host,address:K,statement:T,uri:A.href,version:"1",chainId:H,nonce:(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=zg(G),m=await y.request({method:"personal_sign",params:[Jg(h),K]})}try{const{data:b,error:x}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ze});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ds}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(F(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var s,n,r,i,o,a,l,u,c,d,f,h;let m,b;if("message"in e)m=e.message,b=e.signature;else{const{chain:x,wallet:T,statement:w,options:y}=e;let A;if(Ke())if(typeof T=="object")A=T;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))A=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const I=new URL((s=y==null?void 0:y.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in A&&A.signIn){const K=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),w?{statement:w}:null));let H;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")H=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)H=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)m=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),b=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${I.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(r=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const K=await A.signMessage(new TextEncoder().encode(m),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=K}}try{const{data:x,error:T}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ss(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ze});if(T)throw T;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ds}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:T})}catch(x){if(F(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const s=await zt(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ze});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ze}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ds}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await hs(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Sn("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hs(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Mg})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Pt;const{error:r}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Sn("You must provide either an email or phone number and a type")}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<jr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ur()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(s){if(F(s))return fg(s)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Pt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hs(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Nr(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(F(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ke())throw new On("No browser detected.");if(e.error||e.error_description||e.error_code)throw new On(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Jo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new On("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jo("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new On("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const T={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(hg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=wg(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await hs(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:r,data:{session:i}}=s;if(r)throw r;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ze}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new ds}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:h})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Og(async r=>(r>0&&await Sg(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(r,i)=>{const o=200*Math.pow(2,r);return i&&$r(i)&&Date.now()+o-n<ys})}catch(n){if(this._debug(s,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Ke()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await zt(this.storage,this.storageKey);if(r&&this.userStorage){let o=await zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await _s(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ur()}else if(r&&!r.user&&!r.user){const o=await zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await _s(this.storage,this.storageKey,r)):r.user=Ur()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<jr;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${jr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),$r(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new gr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),F(i)){const o={data:null,error:i};return $r(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await _s(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=Zo(r);await _s(this.storage,this.storageKey,i)}else{const r=Zo(s);await _s(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ys}ms, refresh threshold is ${ai} ticks`),r<=ai&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await hs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sv(e.webauthn.credential_response):nv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(F(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const o=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ev(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nr(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+ug>r)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Nr(n);s!=null&&s.allowExpired||Ig(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:r,signature:o},error:null}}const c=jg(r.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,_g(`${a}.${l}`)))throw new ui("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}cn.nextInstanceID=0;const hv=cn;class fv extends hv{constructor(e){super(e)}}var pv=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class gv{constructor(e,s,n){var r,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=ig(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:zp,realtime:Yp,auth:Object.assign(Object.assign({},Qp),{storageKey:l}),global:Jp},c=rg(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=tg(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new dp(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Kp(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new qf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return pv(this,void 0,void 0,function*(){var e,s;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vv=(t,e,s)=>new gv(t,e,s);function mv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}mv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yv=void 0,_v=void 0,Li=vv(yv,_v),Ut=[{id:1,title:"静夜思",author:"李白",dynasty:"唐朝",content:"床前明月光，疑是地上霜。举头望明月，低头思故乡。",lines:["床前明月光","疑是地上霜","举头望明月","低头思故乡"],translation:"明亮的月光洒在窗户纸上，好像地上泛起了一层霜。我禁不住抬起头来，看那天窗外空中的一轮明月，不由得低头沉思，想起远方的家乡。",notes:"静夜思：宁静的夜晚产生的思绪。疑：好像。举头：抬头。",appreciation:"这首诗写的是在寂静的月夜思念家乡的感受。诗的前两句，是写诗人在作客他乡的特定环境中一刹那间所产生的错觉。后两句通过动作神态的刻画，深化思乡之情。"},{id:2,title:"春望",author:"杜甫",dynasty:"唐朝",content:"国破山河在，城春草木深。感时花溅泪，恨别鸟惊心。烽火连三月，家书抵万金。白头搔更短，浑欲不胜簪。",lines:["国破山河在","城春草木深","感时花溅泪","恨别鸟惊心","烽火连三月","家书抵万金","白头搔更短","浑欲不胜簪"],translation:"长安沦陷，国家破碎，只有山河依旧；春天来了，人烟稀少的长安城里草木茂密。感伤国事，不禁涕泪四溅，鸟鸣惊心，徒增离愁别恨。连绵的战火已经延续了半年多，家书难得，一封抵得上万两黄金。愁绪缠绕，搔头思考，白发越搔越短，简直要不能插簪了。",notes:"国：国都，指长安。破：陷落。山河在：旧日的山河仍然存在。城：长安城。草木深：指人烟稀少。感时：为国家的时局而感伤。溅泪：流泪。恨别：怅恨离别。烽火：古时边防报警的烟火，这里指安史之乱的战火。三月：正月、二月、三月。抵：值，相当。白头：这里指白头发。搔：用手指轻轻的抓。浑：简直。欲：想，要。不胜：受不住，不能。簪：一种束发的首饰。",appreciation:"这首诗全篇情景交融，感情深沉，而又含蓄凝练，言简意赅，充分体现了“沉郁顿挫”的艺术风格。且这首诗结构紧凑，围绕“望”字展开，前四句借景抒情，情景结合。诗人由登高远望到焦点式的透视，由远及近，感情由弱到强，就在这感情和景色的交叉转换中含蓄地传达出诗人的感叹忧愤。"},{id:3,title:"水调歌头·明月几时有",author:"苏轼",dynasty:"宋朝",content:"明月几时有？把酒问青天。不知天上宫阙，今夕是何年。我欲乘风归去，又恐琼楼玉宇，高处不胜寒。起舞弄清影，何似在人间。转朱阁，低绮户，照无眠。不应有恨，何事长向别时圆？人有悲欢离合，月有阴晴圆缺，此事古难全。但愿人长久，千里共婵娟。",lines:["明月几时有？把酒问青天。","不知天上宫阙，今夕是何年。","我欲乘风归去，又恐琼楼玉宇，高处不胜寒。","起舞弄清影，何似在人间。","转朱阁，低绮户，照无眠。","不应有恨，何事长向别时圆？","人有悲欢离合，月有阴晴圆缺，此事古难全。","但愿人长久，千里共婵娟。"],translation:"明月从什么时候才开始出现的？我端起酒杯遥问苍天。不知道在天上的宫殿，何年何月。我想要乘御清风回到天上，又恐怕在美玉砌成的楼宇，受不住高耸九天的寒冷。翩翩起舞玩赏着月下清影，哪像是在人间。月儿转过朱红色的楼阁，低低地挂在雕花的窗户上，照着没有睡意的自己。明月不该对人们有什么怨恨吧，为什么偏在人们离别时才圆呢？人有悲欢离合的变迁，月有阴晴圆缺的转换，这种事自古来难以周全。只希望这世上所有人的亲人能平安健康，即便相隔千里，也能共享这美好的月光。",notes:"水调歌头：词牌名。丙辰：指公元1076年（宋神宗熙宁九年）。子由：苏轼的弟弟苏辙的字。把酒：端起酒杯。把，执、持。天上宫阙（què）：指月中宫殿。阙，古代城墙后的石台。归去：回去，这里指回到月宫里去。琼（qióng）楼玉宇：美玉砌成的楼宇，指想象中的仙宫。不胜（shèng）：经受不住。胜：承担、承受。弄清影：意思是月光下的身影也跟着做出各种舞姿。弄：赏玩。何似：何如，哪里比得上。转朱阁，低绮（qǐ）户，照无眠：月儿移动，转过了朱红色的楼阁，低低地挂在雕花的窗户上，照着没有睡意的人（指诗人自己）。朱阁：朱红的华丽楼阁。绮户：雕饰华丽的门窗。不应有恨，何事长（cháng）向别时圆：（月儿）不该（对人们）有什么怨恨吧，为什么偏在人们分离时圆呢？何事：为什么。此事：指人的“欢”“合” 和月的“晴”“圆”。但：只。共：一起欣赏。婵娟：指月亮。",appreciation:"此词是中秋望月怀人之作，表达了对胞弟苏辙的无限怀念。词人运用形象描绘手法，勾勒出一种皓月当空、亲人千里、孤高旷远的境界氛围，反衬自己遗世独立的意绪和往昔的神话传说融合一处，在月的阴晴圆缺当中，渗进浓厚的哲学意味，可以说是一首将自然和社会高度契合的感喟作品。"},{id:4,title:"青玉案·元夕",author:"辛弃疾",dynasty:"宋朝",content:"东风夜放花千树，更吹落、星如雨。宝马雕车香满路。凤箫声动，玉壶光转，一夜鱼龙舞。蛾儿雪柳黄金缕，笑语盈盈暗香去。众里寻他千百度，蓦然回首，那人却在，灯火阑珊处。",lines:["东风夜放花千树，更吹落、星如雨。","宝马雕车香满路。","凤箫声动，玉壶光转，一夜鱼龙舞。","蛾儿雪柳黄金缕，笑语盈盈暗香去。","众里寻他千百度，蓦然回首，那人却在，灯火阑珊处。"],translation:"像东风吹散千树繁花一样，又吹得烟火纷纷，乱落如雨。豪华的马车满路芳香。悠扬的凤箫声四处回荡，玉壶般的明月渐渐西斜，一夜鱼龙灯飞舞笑语喧哗。美人头上都戴着亮丽的饰物，笑语盈盈地随人群走过，身上香气飘洒。我在人群中寻找她千百回，猛然一回头，不经意间却在灯火零落之处发现了她。",notes:"青玉案：词牌名。“案”读wan，第三声，与“碗”同音。元夕：夏历正月十五日为上元节，元宵节，此夜称元夕或元夜。花千树：花灯之多如千树开花。星如雨：指焰火纷纷，乱落如雨。星，指焰火。形容满天的烟花。宝马雕车：豪华的马车。凤箫：箫的美称。玉壶：比喻明月。亦可解释为指灯。鱼龙舞：指舞动鱼形、龙形的彩灯，如鱼龙闹海一样。蛾儿、雪柳、黄金缕：皆古代妇女元宵节时头上佩戴的各种装饰品。这里指盛装的妇女。盈盈：声音轻盈悦耳，亦指仪态娇美的样子。暗香：本指花香，此指女性们身上散发出来的香气。他：泛指，当时就包括了“她”。千百度：千百遍。蓦然：突然，猛然。阑珊：零落稀疏的样子。",appreciation:"这首词的上半阕写正月十五的晚上，满城灯火，尽情狂欢的景象。下半阕仍然在写“元夕”的欢乐，且一对意中人在大街巧遇的场景。只不过上阕写的是整个场面，下阕写一个具体的人，通过他一波三折的感情起伏，把个人的欢乐自然地融进了节日的欢乐之中。"},{id:5,title:"声声慢·寻寻觅觅",author:"李清照",dynasty:"宋朝",content:"寻寻觅觅，冷冷清清，凄凄惨惨戚戚。乍暖还寒时候，最难将息。三杯两盏淡酒，怎敌他、晚来风急？雁过也，正伤心，却是旧时相识。满地黄花堆积。憔悴损，如今有谁堪摘？守着窗儿，独自怎生得黑？梧桐更兼细雨，到黄昏、点点滴滴。这次第，怎一个愁字了得！",lines:["寻寻觅觅，冷冷清清，凄凄惨惨戚戚。","乍暖还寒时候，最难将息。","三杯两盏淡酒，怎敌他、晚来风急？","雁过也，正伤心，却是旧时相识。","满地黄花堆积。憔悴损，如今有谁堪摘？","守着窗儿，独自怎生得黑？","梧桐更兼细雨，到黄昏、点点滴滴。","这次第，怎一个愁字了得！"],translation:"苦苦地寻寻觅觅，却只见冷冷清清，怎不让人凄惨悲戚。秋天总是忽然变暖，又转寒冷，最难保养休息。喝三杯两杯淡酒，怎么能抵得住傍晚的寒风紧吹？一行大雁从头顶上飞过，更让人伤心，因为都是当年为我传递书信的旧日相识。园中菊花堆积满地，都已经憔悴不堪，如今还有谁来采摘？孤独地守着窗前，独自一个人怎么熬到天黑？梧桐叶上细雨淋漓，到黄昏时分，那雨声还是点点滴滴。这般光景，怎么能用一个“愁”字了结！",notes:"寻寻觅觅：意谓想把失去的一切都找回来，表现非常空虚怅惘、迷茫失落的心态。凄凄惨惨戚戚：忧愁苦闷的样子。乍暖还（huán）寒：指秋天的天气，忽然变暖，又转寒冷。将息：旧时方言，休养调理之意。怎敌他：对付，抵挡。晚：一本作“晓”。损：表示程度极高。堪：可。怎生：怎样的。生：语助词。梧桐更兼细雨：暗用白居易《长恨歌》“秋雨梧桐叶落时”诗意。这次第：这光景、这情形。怎一个愁字了得：一个“愁”字怎么能概括得尽呢？",appreciation:"这首词起句便不寻常，一连用七组叠词。不但在填词方面，即使在诗赋曲也绝无仅有。但好处不仅在此，这七组叠词还极富音乐美。宋词是用来演唱的，因此音调和谐是一个很重要的内容。李清照对音律有极深造诣，所以这七组叠词朗读起来，便有一种大珠小珠落玉盘的感觉。"},{id:6,title:"木兰词·拟古决绝词柬友",author:"纳兰性德",dynasty:"清朝",content:"人生若只如初见，何事秋风悲画扇。等闲变却故人心，却道故人心易变。骊山语罢清宵半，泪雨霖铃终不怨。何如薄幸锦衣郎，比翼连枝当日愿。",lines:["人生若只如初见，何事秋风悲画扇。","等闲变却故人心，却道故人心易变。","骊山语罢清宵半，泪雨霖铃终不怨。","何如薄幸锦衣郎，比翼连枝当日愿。"],translation:"人生如果都像初次相遇那般相处该多美好，那样就不会有现在的离别相思凄凉之苦了。如今轻易地变了心，你却反而说情人间就是容易变心的。想当初唐皇与贵妃的山盟海誓犹在耳边，却又最终作决绝之别，即使如此，也生不得怨。但你又怎比得上当年的唐明皇呢，他总还是与杨玉环有过比翼鸟、连理枝的誓愿。",notes:"柬：给……信札。“何事”句：用汉朝班婕妤被弃的典故。班婕妤为汉成帝妃，被赵飞燕谗害，退居冷宫，后有诗《怨歌行》，以秋扇闲置为喻抒发被弃之怨情。南北朝梁刘孝绰《班婕妤怨》诗又点明“妾身似秋扇”，后遂以秋扇见捐喻女子被弃。这里是说本应当相亲相爱，但却成了相离相弃。故人：指情人。却道故人心易变（出自娱园本），一作“却道故心人易变”。骊山语罢清宵半，泪雨霖铃终不怨：用唐明皇与杨玉环的爱情典故。薄幸：薄情。锦衣郎：指唐明皇。",appreciation:"此词描写了一个为情所伤的女子和伤害她的男子坚决分手的情景，借用班婕妤被弃以及唐玄宗与杨贵妃的爱情悲剧的典故，通过“秋扇”、“骊山语”、“雨霖铃”、“比翼连枝”这些意象，营造了一种幽怨、凄楚、悲凉的意境，抒写了女子被男子抛弃的幽怨之情。"}];async function bv(t=1,e=10){try{const{data:s,error:n,count:r}=await Li.from("poems").select("*",{count:"exact"}).range((t-1)*e,t*e-1).order("id");if(n||!s||s.length===0){console.warn("Supabase查询失败，使用模拟数据:",n==null?void 0:n.message);const i=(t-1)*e,o=i+e;return{poems:Ut.slice(i,o),total:Ut.length}}return{poems:s,total:r||s.length}}catch(s){console.error("获取诗词列表错误:",s);const n=(t-1)*e,r=n+e;return{poems:Ut.slice(n,r),total:Ut.length}}}async function wv(t){try{const{data:e,error:s}=await Li.from("poems").select("*").eq("id",Number(t)).single();return s||!e?(console.warn("Supabase查询失败，使用模拟数据:",s==null?void 0:s.message),Ut.find(n=>n.id===Number(t))):e}catch(e){return console.error("获取诗词详情错误:",e),Ut.find(s=>s.id===Number(t))}}async function xv(t){if(!t)return[];try{const{data:e,error:s}=await Li.from("poems").select("*").or(`title.ilike.%${t}%,author.ilike.%${t}%,content.ilike.%${t}%`);if(s||!e||e.length===0){console.warn("Supabase搜索失败，使用模拟数据:",s==null?void 0:s.message);const n=t.toLowerCase();return Ut.filter(r=>r.title.toLowerCase().includes(n)||r.author.toLowerCase().includes(n)||r.content.toLowerCase().includes(n))}return e}catch(e){console.error("搜索诗词错误:",e);const s=t.toLowerCase();return Ut.filter(n=>n.title.toLowerCase().includes(s)||n.author.toLowerCase().includes(s)||n.content.toLowerCase().includes(s))}}const Ev={class:"min-h-screen bg-gray-50 text-gray-800 font-sans"},Sv={class:"bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50"},Ov={class:"hidden md:flex space-x-6"},Av={class:"relative w-64"},kv={class:"container mx-auto px-8 py-12"},Tv={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},Rv={class:"flex flex-wrap gap-4 items-center"},Cv=["value"],Pv=["value"],Iv={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},jv={key:1,class:"text-center py-16"},$v={class:"bg-gray-900 text-white pt-16 pb-8"},Nv={class:"container mx-auto px-8"},Uv={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12"},Dv={class:"space-y-2 text-gray-400"},Lv={__name:"List",setup(t){const e=Pi(),s=ne([]),n=ne(0),r=ne(9),i=ne(1),o=ne(""),a=ne(""),l=ne(""),u=ne("title"),c=ne(["先秦","汉朝","魏晋","唐朝","宋朝","明清"]),d=ne(["李白","杜甫","苏轼","辛弃疾","李清照","纳兰性德"]),f=_e(()=>{let w=s.value;if(a.value&&(w=w.filter(y=>y.dynasty===a.value)),l.value&&(w=w.filter(y=>y.author===l.value)),o.value){const y=o.value.toLowerCase();w=w.filter(A=>A.title.toLowerCase().includes(y)||A.author.toLowerCase().includes(y)||A.content.toLowerCase().includes(y))}return w.sort((y,A)=>u.value==="title"?y.title.localeCompare(A.title):u.value==="author"?y.author.localeCompare(A.author):y.dynasty.localeCompare(A.dynasty)),w}),h=_e(()=>{const w=(i.value-1)*r.value,y=w+r.value;return f.value.slice(w,y)}),m=async()=>{try{const w=await bv();s.value=w.poems,n.value=w.total}catch(w){console.error("获取诗词列表失败:",w)}},b=w=>{i.value=w,window.scrollTo({top:0,behavior:"smooth"})},x=()=>{i.value=1,o.value.trim()&&e.push(`/search?q=${encodeURIComponent(o.value)}`)},T=()=>{a.value="",l.value="",o.value="",u.value="title",i.value=1};return rr(()=>{m()}),(w,y)=>{const A=fn("router-link");return D(),L("div",Ev,[p("header",Sv,[y[8]||(y[8]=p("div",{class:"flex items-center space-x-2"},[p("i",{class:"fas fa-book text-2xl text-gray-700"}),p("h1",{class:"text-xl font-bold tracking-wider"},"古韵诗语")],-1)),p("nav",Ov,[Q(A,{to:"/",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...y[4]||(y[4]=[ae("首页",-1)])]),_:1}),Q(A,{to:"/list",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:ce(()=>[...y[5]||(y[5]=[ae("诗词列表",-1)])]),_:1}),Q(A,{to:"/collection",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...y[6]||(y[6]=[ae("我的收藏",-1)])]),_:1})]),p("div",Av,[dt(p("input",{type:"text",placeholder:"搜索诗词或作者...",class:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm",onKeyup:vn(x,["enter"]),"onUpdate:modelValue":y[0]||(y[0]=I=>o.value=I)},null,544),[[gn,o.value]]),y[7]||(y[7]=p("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"},null,-1))])]),p("main",kv,[y[16]||(y[16]=p("div",{class:"mb-8"},[p("h1",{class:"text-3xl font-bold mb-4"},"诗词列表"),p("p",{class:"text-gray-600"},"浏览所有诗词作品，感受中华文化的博大精深")],-1)),p("div",Tv,[p("div",Rv,[p("div",null,[y[10]||(y[10]=p("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"朝代筛选",-1)),dt(p("select",{"onUpdate:modelValue":y[1]||(y[1]=I=>a.value=I),class:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"},[y[9]||(y[9]=p("option",{value:""},"全部朝代",-1)),(D(!0),L(me,null,Fe(c.value,I=>(D(),L("option",{key:I,value:I},Z(I),9,Cv))),128))],512),[[Js,a.value]])]),p("div",null,[y[12]||(y[12]=p("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"作者筛选",-1)),dt(p("select",{"onUpdate:modelValue":y[2]||(y[2]=I=>l.value=I),class:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"},[y[11]||(y[11]=p("option",{value:""},"全部作者",-1)),(D(!0),L(me,null,Fe(d.value,I=>(D(),L("option",{key:I,value:I},Z(I),9,Pv))),128))],512),[[Js,l.value]])]),p("div",null,[y[14]||(y[14]=p("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"排序方式",-1)),dt(p("select",{"onUpdate:modelValue":y[3]||(y[3]=I=>u.value=I),class:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"},[...y[13]||(y[13]=[p("option",{value:"title"},"按标题",-1),p("option",{value:"author"},"按作者",-1),p("option",{value:"dynasty"},"按朝代",-1)])],512),[[Js,u.value]])]),p("button",{onClick:T,class:"mt-6 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," 重置筛选 ")])]),f.value.length>0?(D(),L("div",Iv,[(D(!0),L(me,null,Fe(h.value,I=>(D(),rn(ji,{key:I.id,poem:I,onClick:K=>w.$router.push(`/detail/${I.id}`),class:"cursor-pointer"},null,8,["poem","onClick"]))),128))])):(D(),L("div",jv,[...y[15]||(y[15]=[p("i",{class:"fas fa-book-open text-6xl text-gray-300 mb-4"},null,-1),p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"暂无诗词",-1),p("p",{class:"text-gray-500"},"当前筛选条件下没有找到匹配的诗词",-1)])])),f.value.length>0?(D(),rn(Df,{key:2,total:f.value.length,"per-page":r.value,"current-page":i.value,onPageChange:b},null,8,["total","per-page","current-page"])):ht("",!0)]),p("footer",$v,[p("div",Nv,[p("div",Uv,[y[21]||(y[21]=p("div",null,[p("h3",{class:"text-xl font-bold mb-4"},"古韵诗语"),p("p",{class:"text-gray-400"}," 致力于传承中华古典诗词文化，为诗词爱好者提供高质量的鉴赏与学习平台。 ")],-1)),p("div",null,[y[20]||(y[20]=p("h4",{class:"font-bold mb-4"},"快速链接",-1)),p("ul",Dv,[p("li",null,[Q(A,{to:"/",class:"hover:text-white transition-colors"},{default:ce(()=>[...y[17]||(y[17]=[ae("首页",-1)])]),_:1})]),p("li",null,[Q(A,{to:"/list",class:"hover:text-white transition-colors"},{default:ce(()=>[...y[18]||(y[18]=[ae("诗词列表",-1)])]),_:1})]),p("li",null,[Q(A,{to:"/collection",class:"hover:text-white transition-colors"},{default:ce(()=>[...y[19]||(y[19]=[ae("我的收藏",-1)])]),_:1})])])]),y[22]||(y[22]=p("div",null,[p("h4",{class:"font-bold mb-4"},"关于我们"),p("ul",{class:"space-y-2 text-gray-400"},[p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"项目介绍")]),p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"联系我们")])])],-1))]),y[23]||(y[23]=p("div",{class:"pt-8 border-t border-gray-800 text-center text-gray-500 text-sm"}," © 2023 古韵诗语 版权所有 ",-1))])])])}}},Mv=Ps(Lv,[["__scopeId","data-v-5ddaad85"]]),Bv={class:"min-h-screen bg-gray-50 text-gray-800 font-sans"},Fv={class:"bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50"},qv={class:"hidden md:flex space-x-6"},Hv={class:"relative w-64"},Wv={class:"container mx-auto px-8 py-12 max-w-4xl"},Kv={key:0,class:"text-center py-16"},Vv={key:1,class:"bg-white rounded-xl shadow-sm overflow-hidden"},Gv={class:"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white"},Jv={class:"flex justify-between items-start mb-4"},zv={class:"text-3xl font-bold mb-2"},Qv={class:"flex items-center space-x-4"},Yv={class:"text-lg"},Xv={class:"bg-white/20 px-3 py-1 rounded-full text-sm"},Zv={class:"p-8"},em={class:"mb-8"},tm={class:"bg-gray-50 rounded-lg p-6"},sm={class:"text-lg leading-loose text-gray-700 text-center space-y-4"},nm={key:0,class:"mb-8"},rm={class:"flex items-center justify-between mb-4"},im={key:0,class:"bg-blue-50 rounded-lg p-6"},om={class:"text-gray-700 leading-relaxed"},am={key:1,class:"mb-8"},lm={class:"bg-green-50 rounded-lg p-6"},cm={class:"text-gray-700 leading-relaxed"},um={key:2},dm={class:"bg-purple-50 rounded-lg p-6"},hm={class:"text-gray-700 leading-relaxed"},fm={key:2,class:"text-center py-16"},pm={class:"bg-gray-900 text-white pt-16 pb-8"},gm={class:"container mx-auto px-8"},vm={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12"},mm={class:"space-y-2 text-gray-400"},ym={__name:"Detail",setup(t){const e=Cl(),s=Pi(),n=Ii(),r=ne(null),i=ne(!0),o=ne(!0),a=ne(""),l=_e(()=>r.value?n.isPoemCollected(r.value.id):!1),u=async()=>{try{const f=await wv(e.params.id);r.value=f}catch(f){console.error("获取诗词详情失败:",f)}finally{i.value=!1}},c=()=>{r.value&&(l.value?n.removeFromCollection(r.value.id):n.addToCollection(r.value))},d=()=>{a.value.trim()&&s.push(`/search?q=${encodeURIComponent(a.value)}`)};return rr(()=>{u()}),(f,h)=>{const m=fn("router-link");return D(),L("div",Bv,[p("header",Fv,[h[6]||(h[6]=p("div",{class:"flex items-center space-x-2"},[p("i",{class:"fas fa-book text-2xl text-gray-700"}),p("h1",{class:"text-xl font-bold tracking-wider"},"古韵诗语")],-1)),p("nav",qv,[Q(m,{to:"/",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...h[2]||(h[2]=[ae("首页",-1)])]),_:1}),Q(m,{to:"/list",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...h[3]||(h[3]=[ae("诗词列表",-1)])]),_:1}),Q(m,{to:"/collection",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...h[4]||(h[4]=[ae("我的收藏",-1)])]),_:1})]),p("div",Hv,[dt(p("input",{type:"text",placeholder:"搜索诗词或作者...",class:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm",onKeyup:vn(d,["enter"]),"onUpdate:modelValue":h[0]||(h[0]=b=>a.value=b)},null,544),[[gn,a.value]]),h[5]||(h[5]=p("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"},null,-1))])]),p("main",Wv,[i.value?(D(),L("div",Kv,[...h[7]||(h[7]=[p("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-600 mb-4"},null,-1),p("p",{class:"text-gray-600"},"加载中...",-1)])])):r.value?(D(),L("div",Vv,[p("div",Gv,[p("div",Jv,[p("div",null,[p("h1",zv,Z(r.value.title),1),p("div",Qv,[p("span",Yv,Z(r.value.author),1),p("span",Xv,Z(r.value.dynasty||"未知朝代"),1)])]),p("button",{onClick:c,class:Mt(["text-white hover:text-red-200 transition-colors p-3 rounded-full hover:bg-white/10",{"text-red-300":l.value}])},[p("i",{class:Mt(["fas text-2xl",(l.value,"fa-heart")])},null,2)],2)])]),p("div",Zv,[p("section",em,[h[8]||(h[8]=p("h2",{class:"text-xl font-bold mb-4 text-gray-800"},"原文",-1)),p("div",tm,[p("div",sm,[(D(!0),L(me,null,Fe(r.value.lines||r.value.content.split("。").filter(b=>b),(b,x)=>(D(),L("p",{key:x,class:"text-xl"},Z(b),1))),128))])])]),r.value.translation?(D(),L("section",nm,[p("div",rm,[h[9]||(h[9]=p("h2",{class:"text-xl font-bold text-gray-800"},"译文",-1)),p("button",{onClick:h[1]||(h[1]=b=>o.value=!o.value),class:"text-blue-600 hover:text-blue-800 transition-colors"},Z(o.value?"隐藏":"显示")+"译文 ",1)]),o.value?(D(),L("div",im,[p("p",om,Z(r.value.translation),1)])):ht("",!0)])):ht("",!0),r.value.notes?(D(),L("section",am,[h[10]||(h[10]=p("h2",{class:"text-xl font-bold mb-4 text-gray-800"},"注释",-1)),p("div",lm,[p("p",cm,Z(r.value.notes),1)])])):ht("",!0),r.value.appreciation?(D(),L("section",um,[h[11]||(h[11]=p("h2",{class:"text-xl font-bold mb-4 text-gray-800"},"赏析",-1)),p("div",dm,[p("p",hm,Z(r.value.appreciation),1)])])):ht("",!0)])])):(D(),L("div",fm,[h[13]||(h[13]=p("i",{class:"fas fa-exclamation-triangle text-4xl text-yellow-500 mb-4"},null,-1)),h[14]||(h[14]=p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"诗词未找到",-1)),h[15]||(h[15]=p("p",{class:"text-gray-500 mb-4"},"抱歉，没有找到对应的诗词信息",-1)),Q(m,{to:"/list",class:"text-blue-600 hover:text-blue-800 transition-colors"},{default:ce(()=>[...h[12]||(h[12]=[ae(" 返回诗词列表 ",-1)])]),_:1})]))]),p("footer",pm,[p("div",gm,[p("div",vm,[h[20]||(h[20]=p("div",null,[p("h3",{class:"text-xl font-bold mb-4"},"古韵诗语"),p("p",{class:"text-gray-400"}," 致力于传承中华古典诗词文化，为诗词爱好者提供高质量的鉴赏与学习平台。 ")],-1)),p("div",null,[h[19]||(h[19]=p("h4",{class:"font-bold mb-4"},"快速链接",-1)),p("ul",mm,[p("li",null,[Q(m,{to:"/",class:"hover:text-white transition-colors"},{default:ce(()=>[...h[16]||(h[16]=[ae("首页",-1)])]),_:1})]),p("li",null,[Q(m,{to:"/list",class:"hover:text-white transition-colors"},{default:ce(()=>[...h[17]||(h[17]=[ae("诗词列表",-1)])]),_:1})]),p("li",null,[Q(m,{to:"/collection",class:"hover:text-white transition-colors"},{default:ce(()=>[...h[18]||(h[18]=[ae("我的收藏",-1)])]),_:1})])])]),h[21]||(h[21]=p("div",null,[p("h4",{class:"font-bold mb-4"},"关于我们"),p("ul",{class:"space-y-2 text-gray-400"},[p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"项目介绍")]),p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"联系我们")])])],-1))]),h[22]||(h[22]=p("div",{class:"pt-8 border-t border-gray-800 text-center text-gray-500 text-sm"}," © 2023 古韵诗语 版权所有 ",-1))])])])}}},_m=Ps(ym,[["__scopeId","data-v-973e3f02"]]),bm={class:"search-box relative max-w-2xl mx-auto"},wm={class:"relative"},xm={key:0,class:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 z-50"},Em=["onClick"],Sm={__name:"SearchBox",emits:["search"],setup(t,{emit:e}){const s=ne(""),n=ne(!1),r=ne(["李白","杜甫","苏轼","唐诗三百首","宋词精选","静夜思","水调歌头"]),i=e;Ss(s,l=>{n.value=l.length>0});const o=()=>{n.value=!1,i("search",s.value)},a=l=>{s.value=l,o()};return(l,u)=>(D(),L("div",bm,[p("div",wm,[dt(p("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),placeholder:"搜索诗词、作者或朝代...",onKeyup:vn(o,["enter"]),class:"w-full pl-12 pr-4 py-4 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-lg shadow-sm"},null,544),[[gn,s.value]]),u[1]||(u[1]=p("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"},null,-1)),p("button",{onClick:o,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition-colors font-medium"}," 搜索 ")]),n.value&&r.value.length>0?(D(),L("div",xm,[(D(!0),L(me,null,Fe(r.value,c=>(D(),L("div",{key:c,onClick:d=>a(c),class:"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0"},[u[2]||(u[2]=p("i",{class:"fas fa-search text-gray-400 mr-3"},null,-1)),ae(" "+Z(c),1)],8,Em))),128))])):ht("",!0)]))}},Om={class:"min-h-screen bg-gray-50 text-gray-800 font-sans"},Am={class:"bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50"},km={class:"hidden md:flex space-x-6"},Tm={class:"relative w-64"},Rm={class:"container mx-auto px-8 py-12"},Cm={class:"mb-8"},Pm={key:0,class:"text-gray-600"},Im={class:"text-blue-600 font-medium"},jm={class:"text-gray-500 ml-2"},$m={class:"mb-8"},Nm={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},Um={key:1,class:"text-center py-16"},Dm={class:"space-x-4"},Lm={key:2,class:"bg-white rounded-xl shadow-sm p-6 mt-8"},Mm={class:"flex flex-wrap gap-2"},Bm=["onClick"],Fm={key:3,class:"text-center py-16"},qm={class:"bg-gray-900 text-white pt-16 pb-8"},Hm={class:"container mx-auto px-8"},Wm={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12"},Km={class:"space-y-2 text-gray-400"},Vm={__name:"Search",setup(t){const e=Cl(),s=ne([]),n=ne(""),r=ne(!1),i=ne(["李白","杜甫","苏轼","唐诗三百首","宋词精选","静夜思","水调歌头","春望"]),o=async u=>{n.value=u,u.trim()?(s.value=await xv(u),r.value=!1):s.value=[]},a=()=>{r.value=!0},l=u=>{n.value=u,o(u)};return rr(()=>{const u=e.query.q;u&&(n.value=u,o(u))}),(u,c)=>{const d=fn("router-link");return D(),L("div",Om,[p("header",Am,[c[5]||(c[5]=p("div",{class:"flex items-center space-x-2"},[p("i",{class:"fas fa-book text-2xl text-gray-700"}),p("h1",{class:"text-xl font-bold tracking-wider"},"古韵诗语")],-1)),p("nav",km,[Q(d,{to:"/",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...c[1]||(c[1]=[ae("首页",-1)])]),_:1}),Q(d,{to:"/list",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...c[2]||(c[2]=[ae("诗词列表",-1)])]),_:1}),Q(d,{to:"/collection",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...c[3]||(c[3]=[ae("我的收藏",-1)])]),_:1})]),p("div",Tm,[dt(p("input",{type:"text",placeholder:"搜索诗词或作者...",class:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm",onKeyup:vn(o,["enter"]),"onUpdate:modelValue":c[0]||(c[0]=f=>n.value=f)},null,544),[[gn,n.value]]),c[4]||(c[4]=p("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"},null,-1))])]),p("main",Rm,[p("div",Cm,[c[7]||(c[7]=p("h1",{class:"text-3xl font-bold mb-4"},"搜索结果",-1)),n.value?(D(),L("p",Pm,[c[6]||(c[6]=ae(" 搜索关键词: ",-1)),p("span",Im,'"'+Z(n.value)+'"',1),p("span",jm,"找到 "+Z(s.value.length)+" 个结果",1)])):ht("",!0)]),p("div",$m,[Q(Sm,{onSearch:o})]),s.value.length>0?(D(),L("div",Nm,[(D(!0),L(me,null,Fe(s.value,f=>(D(),rn(ji,{key:f.id,poem:f,onClick:h=>u.$router.push(`/detail/${f.id}`),class:"cursor-pointer"},null,8,["poem","onClick"]))),128))])):n.value?(D(),L("div",Um,[c[9]||(c[9]=p("i",{class:"fas fa-search text-6xl text-gray-300 mb-4"},null,-1)),c[10]||(c[10]=p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"未找到相关诗词",-1)),c[11]||(c[11]=p("p",{class:"text-gray-500 mb-4"},"请尝试使用其他关键词搜索",-1)),p("div",Dm,[p("button",{onClick:a,class:"text-blue-600 hover:text-blue-800 transition-colors"}," 查看热门搜索 "),Q(d,{to:"/list",class:"text-blue-600 hover:text-blue-800 transition-colors"},{default:ce(()=>[...c[8]||(c[8]=[ae(" 浏览全部诗词 ",-1)])]),_:1})])])):ht("",!0),r.value?(D(),L("div",Lm,[c[12]||(c[12]=p("h3",{class:"text-lg font-bold mb-4"},"热门搜索",-1)),p("div",Mm,[(D(!0),L(me,null,Fe(i.value,f=>(D(),L("button",{key:f,onClick:h=>l(f),class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full text-sm transition-colors"},Z(f),9,Bm))),128))])])):(D(),L("div",Fm,[...c[13]||(c[13]=[p("i",{class:"fas fa-search text-6xl text-gray-300 mb-4"},null,-1),p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"搜索诗词",-1),p("p",{class:"text-gray-500"},"输入关键词搜索您感兴趣的诗词作品",-1)])]))]),p("footer",qm,[p("div",Hm,[p("div",Wm,[c[18]||(c[18]=p("div",null,[p("h3",{class:"text-xl font-bold mb-4"},"古韵诗语"),p("p",{class:"text-gray-400"}," 致力于传承中华古典诗词文化，为诗词爱好者提供高质量的鉴赏与学习平台。 ")],-1)),p("div",null,[c[17]||(c[17]=p("h4",{class:"font-bold mb-4"},"快速链接",-1)),p("ul",Km,[p("li",null,[Q(d,{to:"/",class:"hover:text-white transition-colors"},{default:ce(()=>[...c[14]||(c[14]=[ae("首页",-1)])]),_:1})]),p("li",null,[Q(d,{to:"/list",class:"hover:text-white transition-colors"},{default:ce(()=>[...c[15]||(c[15]=[ae("诗词列表",-1)])]),_:1})]),p("li",null,[Q(d,{to:"/collection",class:"hover:text-white transition-colors"},{default:ce(()=>[...c[16]||(c[16]=[ae("我的收藏",-1)])]),_:1})])])]),c[19]||(c[19]=p("div",null,[p("h4",{class:"font-bold mb-4"},"关于我们"),p("ul",{class:"space-y-2 text-gray-400"},[p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"项目介绍")]),p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"联系我们")])])],-1))]),c[20]||(c[20]=p("div",{class:"pt-8 border-t border-gray-800 text-center text-gray-500 text-sm"}," © 2023 古韵诗语 版权所有 ",-1))])])])}}},Gm=Ps(Vm,[["__scopeId","data-v-978ed27c"]]),Jm={class:"min-h-screen bg-gray-50 text-gray-800 font-sans"},zm={class:"bg-white shadow-md py-4 px-8 flex justify-between items-center sticky top-0 z-50"},Qm={class:"hidden md:flex space-x-6"},Ym={class:"relative w-64"},Xm={class:"container mx-auto px-8 py-12"},Zm={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},ey={class:"flex items-center justify-between"},ty={class:"flex items-center space-x-6"},sy={class:"text-center"},ny={class:"text-2xl font-bold text-blue-600"},ry={class:"text-center"},iy={class:"text-2xl font-bold text-green-600"},oy={class:"text-center"},ay={class:"text-2xl font-bold text-purple-600"},ly={key:0,class:"bg-white rounded-xl shadow-sm p-6 mb-8"},cy={class:"flex flex-wrap gap-4 items-center"},uy=["value"],dy=["value"],hy={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},fy={key:2,class:"text-center py-16"},py={key:3,class:"text-center py-16"},gy={class:"bg-gray-900 text-white pt-16 pb-8"},vy={class:"container mx-auto px-8"},my={class:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12"},yy={class:"space-y-2 text-gray-400"},_y={__name:"Collection",setup(t){const e=Pi(),s=Ii(),n=ne(""),r=ne(""),i=ne(""),o=_e(()=>s.collectedPoems),a=_e(()=>[...new Set(o.value.map(h=>h.author))].filter(Boolean)),l=_e(()=>[...new Set(o.value.map(h=>h.dynasty))].filter(Boolean)),u=_e(()=>{let h=o.value;if(r.value&&(h=h.filter(m=>m.dynasty===r.value)),i.value&&(h=h.filter(m=>m.author===i.value)),n.value){const m=n.value.toLowerCase();h=h.filter(b=>b.title.toLowerCase().includes(m)||b.author.toLowerCase().includes(m)||b.content.toLowerCase().includes(m))}return h}),c=()=>{n.value.trim()&&e.push(`/search?q=${encodeURIComponent(n.value)}`)},d=()=>{r.value="",i.value="",n.value=""},f=()=>{confirm("确定要清空所有收藏吗？此操作不可撤销。")&&s.clearCollection()};return(h,m)=>{const b=fn("router-link");return D(),L("div",Jm,[p("header",zm,[m[7]||(m[7]=p("div",{class:"flex items-center space-x-2"},[p("i",{class:"fas fa-book text-2xl text-gray-700"}),p("h1",{class:"text-xl font-bold tracking-wider"},"古韵诗语")],-1)),p("nav",Qm,[Q(b,{to:"/",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...m[3]||(m[3]=[ae("首页",-1)])]),_:1}),Q(b,{to:"/list",class:"font-medium hover:text-gray-500 transition-colors"},{default:ce(()=>[...m[4]||(m[4]=[ae("诗词列表",-1)])]),_:1}),Q(b,{to:"/collection",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:ce(()=>[...m[5]||(m[5]=[ae("我的收藏",-1)])]),_:1})]),p("div",Ym,[dt(p("input",{type:"text",placeholder:"搜索诗词或作者...",class:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm",onKeyup:vn(c,["enter"]),"onUpdate:modelValue":m[0]||(m[0]=x=>n.value=x)},null,544),[[gn,n.value]]),m[6]||(m[6]=p("i",{class:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"},null,-1))])]),p("main",Xm,[m[20]||(m[20]=p("div",{class:"mb-8"},[p("h1",{class:"text-3xl font-bold mb-4"},"我的收藏"),p("p",{class:"text-gray-600"},"管理您收藏的诗词作品")],-1)),p("div",Zm,[p("div",ey,[p("div",ty,[p("div",sy,[p("div",ny,Z(o.value.length),1),m[8]||(m[8]=p("div",{class:"text-sm text-gray-500"},"收藏数量",-1))]),p("div",ry,[p("div",iy,Z(a.value.length),1),m[9]||(m[9]=p("div",{class:"text-sm text-gray-500"},"作者数量",-1))]),p("div",oy,[p("div",ay,Z(l.value.length),1),m[10]||(m[10]=p("div",{class:"text-sm text-gray-500"},"朝代数量",-1))])]),o.value.length>0?(D(),L("button",{key:0,onClick:f,class:"px-4 py-2 text-red-600 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"}," 清空收藏 ")):ht("",!0)])]),o.value.length>0?(D(),L("div",ly,[p("div",cy,[p("div",null,[m[12]||(m[12]=p("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"朝代筛选",-1)),dt(p("select",{"onUpdate:modelValue":m[1]||(m[1]=x=>r.value=x),class:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"},[m[11]||(m[11]=p("option",{value:""},"全部朝代",-1)),(D(!0),L(me,null,Fe(l.value,x=>(D(),L("option",{key:x,value:x},Z(x),9,uy))),128))],512),[[Js,r.value]])]),p("div",null,[m[14]||(m[14]=p("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"作者筛选",-1)),dt(p("select",{"onUpdate:modelValue":m[2]||(m[2]=x=>i.value=x),class:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-300"},[m[13]||(m[13]=p("option",{value:""},"全部作者",-1)),(D(!0),L(me,null,Fe(a.value,x=>(D(),L("option",{key:x,value:x},Z(x),9,dy))),128))],512),[[Js,i.value]])]),p("button",{onClick:d,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," 重置筛选 ")])])):ht("",!0),u.value.length>0?(D(),L("div",hy,[(D(!0),L(me,null,Fe(u.value,x=>(D(),rn(ji,{key:x.id,poem:x,onClick:T=>h.$router.push(`/detail/${x.id}`),class:"cursor-pointer"},null,8,["poem","onClick"]))),128))])):o.value.length===0?(D(),L("div",fy,[m[16]||(m[16]=p("i",{class:"fas fa-heart text-6xl text-gray-300 mb-4"},null,-1)),m[17]||(m[17]=p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"暂无收藏",-1)),m[18]||(m[18]=p("p",{class:"text-gray-500 mb-4"},"您还没有收藏任何诗词",-1)),Q(b,{to:"/list",class:"text-blue-600 hover:text-blue-800 transition-colors"},{default:ce(()=>[...m[15]||(m[15]=[ae(" 去浏览诗词 ",-1)])]),_:1})])):(D(),L("div",py,[...m[19]||(m[19]=[p("i",{class:"fas fa-search text-6xl text-gray-300 mb-4"},null,-1),p("h3",{class:"text-xl font-medium text-gray-600 mb-2"},"未找到匹配的收藏",-1),p("p",{class:"text-gray-500"},"当前筛选条件下没有找到匹配的诗词",-1)])]))]),p("footer",gy,[p("div",vy,[p("div",my,[m[25]||(m[25]=p("div",null,[p("h3",{class:"text-xl font-bold mb-4"},"古韵诗语"),p("p",{class:"text-gray-400"}," 致力于传承中华古典诗词文化，为诗词爱好者提供高质量的鉴赏与学习平台。 ")],-1)),p("div",null,[m[24]||(m[24]=p("h4",{class:"font-bold mb-4"},"快速链接",-1)),p("ul",yy,[p("li",null,[Q(b,{to:"/",class:"hover:text-white transition-colors"},{default:ce(()=>[...m[21]||(m[21]=[ae("首页",-1)])]),_:1})]),p("li",null,[Q(b,{to:"/list",class:"hover:text-white transition-colors"},{default:ce(()=>[...m[22]||(m[22]=[ae("诗词列表",-1)])]),_:1})]),p("li",null,[Q(b,{to:"/collection",class:"hover:text-white transition-colors"},{default:ce(()=>[...m[23]||(m[23]=[ae("我的收藏",-1)])]),_:1})])])]),m[26]||(m[26]=p("div",null,[p("h4",{class:"font-bold mb-4"},"关于我们"),p("ul",{class:"space-y-2 text-gray-400"},[p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"项目介绍")]),p("li",null,[p("a",{href:"#",class:"hover:text-white transition-colors"},"联系我们")])])],-1))]),m[27]||(m[27]=p("div",{class:"pt-8 border-t border-gray-800 text-center text-gray-500 text-sm"}," © 2023 古韵诗语 版权所有 ",-1))])])])}}},by=Ps(_y,[["__scopeId","data-v-6bde326f"]]),wy=[{path:"/",name:"home",component:yf},{path:"/list",name:"list",component:Mv},{path:"/detail/:id",name:"detail",component:_m,props:!0},{path:"/search",name:"search",component:Gm,props:t=>({query:t.query.q})},{path:"/collection",name:"collection",component:by},{path:"/:pathMatch(.*)*",redirect:"/"}],xy=Bh({history:yh(),routes:wy}),Mi=Ed($d);Mi.use(Ad());Mi.use(xy);Mi.mount("#app");
