// æ•°æ®è¿ç§»è„šæœ¬ - CommonJS ç‰ˆæœ¬
const { createClient } = require('@supabase/supabase-js')
const fs = require('fs')
const path = require('path')

// è¯»å–ç¯å¢ƒå˜é‡
const envPath = path.join(__dirname, '.env')
const envContent = fs.readFileSync(envPath, 'utf8')
const envVars = {}

envContent.split('\n').forEach(line => {
  const [key, value] = line.split('=')
  if (key && value && !key.startsWith('#')) {
    envVars[key.trim()] = value.trim()
  }
})

const supabaseUrl = envVars.VITE_SUPABASE_URL
const supabaseAnonKey = envVars.VITE_SUPABASE_ANON_KEY

if (!supabaseUrl || !supabaseAnonKey) {
  console.error('âŒ ç¼ºå°‘ Supabase é…ç½®ï¼Œè¯·æ£€æŸ¥ .env æ–‡ä»¶')
  process.exit(1)
}

// åˆ›å»º Supabase å®¢æˆ·ç«¯
const supabase = createClient(supabaseUrl, supabaseAnonKey)

// æ¨¡æ‹Ÿæ•°æ®
const poemsData = [
  {
    id: 1,
    title: 'é™å¤œæ€',
    author: 'æç™½',
    dynasty: 'å”æœ',
    content: 'åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚',
    lines: [
      'åºŠå‰æ˜æœˆå…‰',
      'ç–‘æ˜¯åœ°ä¸Šéœœ',
      'ä¸¾å¤´æœ›æ˜æœˆ',
      'ä½å¤´æ€æ•…ä¹¡'
    ],
    translation: 'æ˜äº®çš„æœˆå…‰æ´’åœ¨çª—æˆ·çº¸ä¸Šï¼Œå¥½åƒåœ°ä¸Šæ³›èµ·äº†ä¸€å±‚éœœã€‚æˆ‘ç¦ä¸ä½æŠ¬èµ·å¤´æ¥ï¼Œçœ‹é‚£å¤©çª—å¤–ç©ºä¸­çš„ä¸€è½®æ˜æœˆï¼Œä¸ç”±å¾—ä½å¤´æ²‰æ€ï¼Œæƒ³èµ·è¿œæ–¹çš„å®¶ä¹¡ã€‚',
    notes: 'é™å¤œæ€ï¼šå®é™çš„å¤œæ™šäº§ç”Ÿçš„æ€ç»ªã€‚ç–‘ï¼šå¥½åƒã€‚ä¸¾å¤´ï¼šæŠ¬å¤´ã€‚',
    appreciation: 'è¿™é¦–è¯—å†™çš„æ˜¯åœ¨å¯‚é™çš„æœˆå¤œæ€å¿µå®¶ä¹¡çš„æ„Ÿå—ã€‚è¯—çš„å‰ä¸¤å¥ï¼Œæ˜¯å†™è¯—äººåœ¨ä½œå®¢ä»–ä¹¡çš„ç‰¹å®šç¯å¢ƒä¸­ä¸€åˆ¹é‚£é—´æ‰€äº§ç”Ÿçš„é”™è§‰ã€‚åä¸¤å¥é€šè¿‡åŠ¨ä½œç¥æ€çš„åˆ»ç”»ï¼Œæ·±åŒ–æ€ä¹¡ä¹‹æƒ…ã€‚'
  },
  {
    id: 2,
    title: 'æ˜¥æœ›',
    author: 'æœç”«',
    dynasty: 'å”æœ',
    content: 'å›½ç ´å±±æ²³åœ¨ï¼ŒåŸæ˜¥è‰æœ¨æ·±ã€‚æ„Ÿæ—¶èŠ±æº…æ³ªï¼Œæ¨åˆ«é¸ŸæƒŠå¿ƒã€‚çƒ½ç«è¿ä¸‰æœˆï¼Œå®¶ä¹¦æŠµä¸‡é‡‘ã€‚ç™½å¤´æ”æ›´çŸ­ï¼Œæµ‘æ¬²ä¸èƒœç°ªã€‚',
    lines: [
      'å›½ç ´å±±æ²³åœ¨',
      'åŸæ˜¥è‰æœ¨æ·±',
      'æ„Ÿæ—¶èŠ±æº…æ³ª',
      'æ¨åˆ«é¸ŸæƒŠå¿ƒ',
      'çƒ½ç«è¿ä¸‰æœˆ',
      'å®¶ä¹¦æŠµä¸‡é‡‘',
      'ç™½å¤´æ”æ›´çŸ­',
      'æµ‘æ¬²ä¸èƒœç°ª'
    ],
    translation: 'é•¿å®‰æ²¦é™·ï¼Œå›½å®¶ç ´ç¢ï¼Œåªæœ‰å±±æ²³ä¾æ—§ï¼›æ˜¥å¤©æ¥äº†ï¼ŒäººçƒŸç¨€å°‘çš„é•¿å®‰åŸé‡Œè‰æœ¨èŒ‚å¯†ã€‚æ„Ÿä¼¤å›½äº‹ï¼Œä¸ç¦æ¶•æ³ªå››æº…ï¼Œé¸Ÿé¸£æƒŠå¿ƒï¼Œå¾’å¢ç¦»æ„åˆ«æ¨ã€‚è¿ç»µçš„æˆ˜ç«å·²ç»å»¶ç»­äº†åŠå¹´å¤šï¼Œå®¶ä¹¦éš¾å¾—ï¼Œä¸€å°æŠµå¾—ä¸Šä¸‡ä¸¤é»„é‡‘ã€‚æ„ç»ªç¼ ç»•ï¼Œæ”å¤´æ€è€ƒï¼Œç™½å‘è¶Šæ”è¶ŠçŸ­ï¼Œç®€ç›´è¦ä¸èƒ½æ’ç°ªäº†ã€‚',
    notes: 'å›½ï¼šå›½éƒ½ï¼ŒæŒ‡é•¿å®‰ã€‚ç ´ï¼šé™·è½ã€‚å±±æ²³åœ¨ï¼šæ—§æ—¥çš„å±±æ²³ä»ç„¶å­˜åœ¨ã€‚åŸï¼šé•¿å®‰åŸã€‚è‰æœ¨æ·±ï¼šæŒ‡äººçƒŸç¨€å°‘ã€‚æ„Ÿæ—¶ï¼šä¸ºå›½å®¶çš„æ—¶å±€è€Œæ„Ÿä¼¤ã€‚æº…æ³ªï¼šæµæ³ªã€‚æ¨åˆ«ï¼šæ€…æ¨ç¦»åˆ«ã€‚çƒ½ç«ï¼šå¤æ—¶è¾¹é˜²æŠ¥è­¦çš„çƒŸç«ï¼Œè¿™é‡ŒæŒ‡å®‰å²ä¹‹ä¹±çš„æˆ˜ç«ã€‚ä¸‰æœˆï¼šæ­£æœˆã€äºŒæœˆã€ä¸‰æœˆã€‚æŠµï¼šå€¼ï¼Œç›¸å½“ã€‚ç™½å¤´ï¼šè¿™é‡ŒæŒ‡ç™½å¤´å‘ã€‚æ”ï¼šç”¨æ‰‹æŒ‡è½»è½»çš„æŠ“ã€‚æµ‘ï¼šç®€ç›´ã€‚æ¬²ï¼šæƒ³ï¼Œè¦ã€‚ä¸èƒœï¼šå—ä¸ä½ï¼Œä¸èƒ½ã€‚ç°ªï¼šä¸€ç§æŸå‘çš„é¦–é¥°ã€‚',
    appreciation: 'è¿™é¦–è¯—å…¨ç¯‡æƒ…æ™¯äº¤èï¼Œæ„Ÿæƒ…æ·±æ²‰ï¼Œè€Œåˆå«è“„å‡ç»ƒï¼Œè¨€ç®€æ„èµ…ï¼Œå……åˆ†ä½“ç°äº†"æ²‰éƒé¡¿æŒ«"çš„è‰ºæœ¯é£æ ¼ã€‚ä¸”è¿™é¦–è¯—ç»“æ„ç´§å‡‘ï¼Œå›´ç»•"æœ›"å­—å±•å¼€ï¼Œå‰å››å¥å€Ÿæ™¯æŠ’æƒ…ï¼Œæƒ…æ™¯ç»“åˆã€‚è¯—äººç”±ç™»é«˜è¿œæœ›åˆ°ç„¦ç‚¹å¼çš„é€è§†ï¼Œç”±è¿œåŠè¿‘ï¼Œæ„Ÿæƒ…ç”±å¼±åˆ°å¼ºï¼Œå°±åœ¨è¿™æ„Ÿæƒ…å’Œæ™¯è‰²çš„äº¤å‰è½¬æ¢ä¸­å«è“„åœ°ä¼ è¾¾å‡ºè¯—äººçš„æ„Ÿå¹å¿§æ„¤ã€‚'
  },
  {
    id: 3,
    title: 'æ°´è°ƒæ­Œå¤´Â·æ˜æœˆå‡ æ—¶æœ‰',
    author: 'è‹è½¼',
    dynasty: 'å®‹æœ',
    content: 'æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ã€‚æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ã€‚è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿäººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚',
    lines: [
      'æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚',
      'ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ã€‚',
      'æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚',
      'èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ã€‚',
      'è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚',
      'ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ',
      'äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚',
      'ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚'
    ],
    translation: 'æ˜æœˆä»ä»€ä¹ˆæ—¶å€™æ‰å¼€å§‹å‡ºç°çš„ï¼Ÿæˆ‘ç«¯èµ·é…’æ¯é¥é—®è‹å¤©ã€‚ä¸çŸ¥é“åœ¨å¤©ä¸Šçš„å®«æ®¿ï¼Œä½•å¹´ä½•æœˆã€‚æˆ‘æƒ³è¦ä¹˜å¾¡æ¸…é£å›åˆ°å¤©ä¸Šï¼Œåˆææ€•åœ¨ç¾ç‰ç Œæˆçš„æ¥¼å®‡ï¼Œå—ä¸ä½é«˜è€¸ä¹å¤©çš„å¯’å†·ã€‚ç¿©ç¿©èµ·èˆç©èµç€æœˆä¸‹æ¸…å½±ï¼Œå“ªåƒæ˜¯åœ¨äººé—´ã€‚æœˆå„¿è½¬è¿‡æœ±çº¢è‰²çš„æ¥¼é˜ï¼Œä½ä½åœ°æŒ‚åœ¨é›•èŠ±çš„çª—æˆ·ä¸Šï¼Œç…§ç€æ²¡æœ‰ç¡æ„çš„è‡ªå·±ã€‚æ˜æœˆä¸è¯¥å¯¹äººä»¬æœ‰ä»€ä¹ˆæ€¨æ¨å§ï¼Œä¸ºä»€ä¹ˆååœ¨äººä»¬ç¦»åˆ«æ—¶æ‰åœ†å‘¢ï¼Ÿäººæœ‰æ‚²æ¬¢ç¦»åˆçš„å˜è¿ï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºçš„è½¬æ¢ï¼Œè¿™ç§äº‹è‡ªå¤æ¥éš¾ä»¥å‘¨å…¨ã€‚åªå¸Œæœ›è¿™ä¸–ä¸Šæ‰€æœ‰äººçš„äº²äººèƒ½å¹³å®‰å¥åº·ï¼Œå³ä¾¿ç›¸éš”åƒé‡Œï¼Œä¹Ÿèƒ½å…±äº«è¿™ç¾å¥½çš„æœˆå…‰ã€‚',
    notes: 'æ°´è°ƒæ­Œå¤´ï¼šè¯ç‰Œåã€‚ä¸™è¾°ï¼šæŒ‡å…¬å…ƒ1076å¹´ï¼ˆå®‹ç¥å®—ç†™å®ä¹å¹´ï¼‰ã€‚å­ç”±ï¼šè‹è½¼çš„å¼Ÿå¼Ÿè‹è¾™çš„å­—ã€‚æŠŠé…’ï¼šç«¯èµ·é…’æ¯ã€‚æŠŠï¼Œæ‰§ã€æŒã€‚å¤©ä¸Šå®«é˜™ï¼ˆquÃ¨ï¼‰ï¼šæŒ‡æœˆä¸­å®«æ®¿ã€‚é˜™ï¼Œå¤ä»£åŸå¢™åçš„çŸ³å°ã€‚å½’å»ï¼šå›å»ï¼Œè¿™é‡ŒæŒ‡å›åˆ°æœˆå®«é‡Œå»ã€‚ç¼ï¼ˆqiÃ³ngï¼‰æ¥¼ç‰å®‡ï¼šç¾ç‰ç Œæˆçš„æ¥¼å®‡ï¼ŒæŒ‡æƒ³è±¡ä¸­çš„ä»™å®«ã€‚ä¸èƒœï¼ˆshÃ¨ngï¼‰ï¼šç»å—ä¸ä½ã€‚èƒœï¼šæ‰¿æ‹…ã€æ‰¿å—ã€‚å¼„æ¸…å½±ï¼šæ„æ€æ˜¯æœˆå…‰ä¸‹çš„èº«å½±ä¹Ÿè·Ÿç€åšå‡ºå„ç§èˆå§¿ã€‚å¼„ï¼šèµç©ã€‚ä½•ä¼¼ï¼šä½•å¦‚ï¼Œå“ªé‡Œæ¯”å¾—ä¸Šã€‚è½¬æœ±é˜ï¼Œä½ç»®ï¼ˆqÇï¼‰æˆ·ï¼Œç…§æ— çœ ï¼šæœˆå„¿ç§»åŠ¨ï¼Œè½¬è¿‡äº†æœ±çº¢è‰²çš„æ¥¼é˜ï¼Œä½ä½åœ°æŒ‚åœ¨é›•èŠ±çš„çª—æˆ·ä¸Šï¼Œç…§ç€æ²¡æœ‰ç¡æ„çš„äººï¼ˆæŒ‡è¯—äººè‡ªå·±ï¼‰ã€‚æœ±é˜ï¼šæœ±çº¢çš„åä¸½æ¥¼é˜ã€‚ç»®æˆ·ï¼šé›•é¥°åä¸½çš„é—¨çª—ã€‚ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿ï¼ˆchÃ¡ngï¼‰å‘åˆ«æ—¶åœ†ï¼šï¼ˆæœˆå„¿ï¼‰ä¸è¯¥ï¼ˆå¯¹äººä»¬ï¼‰æœ‰ä»€ä¹ˆæ€¨æ¨å§ï¼Œä¸ºä»€ä¹ˆååœ¨äººä»¬åˆ†ç¦»æ—¶åœ†å‘¢ï¼Ÿä½•äº‹ï¼šä¸ºä»€ä¹ˆã€‚æ­¤äº‹ï¼šæŒ‡äººçš„"æ¬¢""åˆ" å’Œæœˆçš„"æ™´""åœ†"ã€‚ä½†ï¼šåªã€‚å…±ï¼šä¸€èµ·æ¬£èµã€‚å©µå¨Ÿï¼šæŒ‡æœˆäº®ã€‚',
    appreciation: 'æ­¤è¯æ˜¯ä¸­ç§‹æœ›æœˆæ€€äººä¹‹ä½œï¼Œè¡¨è¾¾äº†å¯¹èƒå¼Ÿè‹è¾™çš„æ— é™æ€€å¿µã€‚è¯äººè¿ç”¨å½¢è±¡æç»˜æ‰‹æ³•ï¼Œå‹¾å‹’å‡ºä¸€ç§çš“æœˆå½“ç©ºã€äº²äººåƒé‡Œã€å­¤é«˜æ—·è¿œçš„å¢ƒç•Œæ°›å›´ï¼Œåè¡¬è‡ªå·±é—ä¸–ç‹¬ç«‹çš„æ„ç»ªå’Œå¾€æ˜”çš„ç¥è¯ä¼ è¯´èåˆä¸€å¤„ï¼Œåœ¨æœˆçš„é˜´æ™´åœ†ç¼ºå½“ä¸­ï¼Œæ¸—è¿›æµ“åšçš„å“²å­¦æ„å‘³ï¼Œå¯ä»¥è¯´æ˜¯ä¸€é¦–å°†è‡ªç„¶å’Œç¤¾ä¼šé«˜åº¦å¥‘åˆçš„æ„Ÿå–Ÿä½œå“ã€‚'
  },
  {
    id: 4,
    title: 'é’ç‰æ¡ˆÂ·å…ƒå¤•',
    author: 'è¾›å¼ƒç–¾',
    dynasty: 'å®‹æœ',
    content: 'ä¸œé£å¤œæ”¾èŠ±åƒæ ‘ï¼Œæ›´å¹è½ã€æ˜Ÿå¦‚é›¨ã€‚å®é©¬é›•è½¦é¦™æ»¡è·¯ã€‚å‡¤ç®«å£°åŠ¨ï¼Œç‰å£¶å…‰è½¬ï¼Œä¸€å¤œé±¼é¾™èˆã€‚è›¾å„¿é›ªæŸ³é»„é‡‘ç¼•ï¼Œç¬‘è¯­ç›ˆç›ˆæš—é¦™å»ã€‚ä¼—é‡Œå¯»ä»–åƒç™¾åº¦ï¼Œè“¦ç„¶å›é¦–ï¼Œé‚£äººå´åœ¨ï¼Œç¯ç«é˜‘çŠå¤„ã€‚',
    lines: [
      'ä¸œé£å¤œæ”¾èŠ±åƒæ ‘ï¼Œæ›´å¹è½ã€æ˜Ÿå¦‚é›¨ã€‚',
      'å®é©¬é›•è½¦é¦™æ»¡è·¯ã€‚',
      'å‡¤ç®«å£°åŠ¨ï¼Œç‰å£¶å…‰è½¬ï¼Œä¸€å¤œé±¼é¾™èˆã€‚',
      'è›¾å„¿é›ªæŸ³é»„é‡‘ç¼•ï¼Œç¬‘è¯­ç›ˆç›ˆæš—é¦™å»ã€‚',
      'ä¼—é‡Œå¯»ä»–åƒç™¾åº¦ï¼Œè“¦ç„¶å›é¦–ï¼Œé‚£äººå´åœ¨ï¼Œç¯ç«é˜‘çŠå¤„ã€‚'
    ],
    translation: 'åƒä¸œé£å¹æ•£åƒæ ‘ç¹èŠ±ä¸€æ ·ï¼Œåˆå¹å¾—çƒŸç«çº·çº·ï¼Œä¹±è½å¦‚é›¨ã€‚è±ªåçš„é©¬è½¦æ»¡è·¯èŠ³é¦™ã€‚æ‚ æ‰¬çš„å‡¤ç®«å£°å››å¤„å›è¡ï¼Œç‰å£¶èˆ¬çš„æ˜æœˆæ¸æ¸è¥¿æ–œï¼Œä¸€å¤œé±¼é¾™ç¯é£èˆç¬‘è¯­å–§å“—ã€‚ç¾äººå¤´ä¸Šéƒ½æˆ´ç€äº®ä¸½çš„é¥°ç‰©ï¼Œç¬‘è¯­ç›ˆç›ˆåœ°éšäººç¾¤èµ°è¿‡ï¼Œèº«ä¸Šé¦™æ°”é£˜æ´’ã€‚æˆ‘åœ¨äººç¾¤ä¸­å¯»æ‰¾å¥¹åƒç™¾å›ï¼ŒçŒ›ç„¶ä¸€å›å¤´ï¼Œä¸ç»æ„é—´å´åœ¨ç¯ç«é›¶è½ä¹‹å¤„å‘ç°äº†å¥¹ã€‚',
    notes: 'é’ç‰æ¡ˆï¼šè¯ç‰Œåã€‚"æ¡ˆ"è¯»wanï¼Œç¬¬ä¸‰å£°ï¼Œä¸"ç¢—"åŒéŸ³ã€‚å…ƒå¤•ï¼šå¤å†æ­£æœˆåäº”æ—¥ä¸ºä¸Šå…ƒèŠ‚ï¼Œå…ƒå®µèŠ‚ï¼Œæ­¤å¤œç§°å…ƒå¤•æˆ–å…ƒå¤œã€‚èŠ±åƒæ ‘ï¼šèŠ±ç¯ä¹‹å¤šå¦‚åƒæ ‘å¼€èŠ±ã€‚æ˜Ÿå¦‚é›¨ï¼šæŒ‡ç„°ç«çº·çº·ï¼Œä¹±è½å¦‚é›¨ã€‚æ˜Ÿï¼ŒæŒ‡ç„°ç«ã€‚å½¢å®¹æ»¡å¤©çš„çƒŸèŠ±ã€‚å®é©¬é›•è½¦ï¼šè±ªåçš„é©¬è½¦ã€‚å‡¤ç®«ï¼šç®«çš„ç¾ç§°ã€‚ç‰å£¶ï¼šæ¯”å–»æ˜æœˆã€‚äº¦å¯è§£é‡Šä¸ºæŒ‡ç¯ã€‚é±¼é¾™èˆï¼šæŒ‡èˆåŠ¨é±¼å½¢ã€é¾™å½¢çš„å½©ç¯ï¼Œå¦‚é±¼é¾™é—¹æµ·ä¸€æ ·ã€‚è›¾å„¿ã€é›ªæŸ³ã€é»„é‡‘ç¼•ï¼šçš†å¤ä»£å¦‡å¥³å…ƒå®µèŠ‚æ—¶å¤´ä¸Šä½©æˆ´çš„å„ç§è£…é¥°å“ã€‚è¿™é‡ŒæŒ‡ç››è£…çš„å¦‡å¥³ã€‚ç›ˆç›ˆï¼šå£°éŸ³è½»ç›ˆæ‚¦è€³ï¼Œäº¦æŒ‡ä»ªæ€å¨‡ç¾çš„æ ·å­ã€‚æš—é¦™ï¼šæœ¬æŒ‡èŠ±é¦™ï¼Œæ­¤æŒ‡å¥³æ€§ä»¬èº«ä¸Šæ•£å‘å‡ºæ¥çš„é¦™æ°”ã€‚ä»–ï¼šæ³›æŒ‡ï¼Œå½“æ—¶å°±åŒ…æ‹¬äº†"å¥¹"ã€‚åƒç™¾åº¦ï¼šåƒç™¾éã€‚è“¦ç„¶ï¼šçªç„¶ï¼ŒçŒ›ç„¶ã€‚é˜‘çŠï¼šé›¶è½ç¨€ç–çš„æ ·å­ã€‚',
    appreciation: 'è¿™é¦–è¯çš„ä¸ŠåŠé˜•å†™æ­£æœˆåäº”çš„æ™šä¸Šï¼Œæ»¡åŸç¯ç«ï¼Œå°½æƒ…ç‹‚æ¬¢çš„æ™¯è±¡ã€‚ä¸‹åŠé˜•ä»ç„¶åœ¨å†™"å…ƒå¤•"çš„æ¬¢ä¹ï¼Œä¸”ä¸€å¯¹æ„ä¸­äººåœ¨å¤§è¡—å·§é‡çš„åœºæ™¯ã€‚åªä¸è¿‡ä¸Šé˜•å†™çš„æ˜¯æ•´ä¸ªåœºé¢ï¼Œä¸‹é˜•å†™ä¸€ä¸ªå…·ä½“çš„äººï¼Œé€šè¿‡ä»–ä¸€æ³¢ä¸‰æŠ˜çš„æ„Ÿæƒ…èµ·ä¼ï¼ŒæŠŠä¸ªäººçš„æ¬¢ä¹è‡ªç„¶åœ°èè¿›äº†èŠ‚æ—¥çš„æ¬¢ä¹ä¹‹ä¸­ã€‚'
  },
  {
    id: 5,
    title: 'å£°å£°æ…¢Â·å¯»å¯»è§…è§…',
    author: 'ææ¸…ç…§',
    dynasty: 'å®‹æœ',
    content: 'å¯»å¯»è§…è§…ï¼Œå†·å†·æ¸…æ¸…ï¼Œå‡„å‡„æƒ¨æƒ¨æˆšæˆšã€‚ä¹æš–è¿˜å¯’æ—¶å€™ï¼Œæœ€éš¾å°†æ¯ã€‚ä¸‰æ¯ä¸¤ç›æ·¡é…’ï¼Œæ€æ•Œä»–ã€æ™šæ¥é£æ€¥ï¼Ÿé›è¿‡ä¹Ÿï¼Œæ­£ä¼¤å¿ƒï¼Œå´æ˜¯æ—§æ—¶ç›¸è¯†ã€‚æ»¡åœ°é»„èŠ±å †ç§¯ã€‚æ†”æ‚´æŸï¼Œå¦‚ä»Šæœ‰è°å ªæ‘˜ï¼Ÿå®ˆç€çª—å„¿ï¼Œç‹¬è‡ªæ€ç”Ÿå¾—é»‘ï¼Ÿæ¢§æ¡æ›´å…¼ç»†é›¨ï¼Œåˆ°é»„æ˜ã€ç‚¹ç‚¹æ»´æ»´ã€‚è¿™æ¬¡ç¬¬ï¼Œæ€ä¸€ä¸ªæ„å­—äº†å¾—ï¼',
    lines: [
      'å¯»å¯»è§…è§…ï¼Œå†·å†·æ¸…æ¸…ï¼Œå‡„å‡„æƒ¨æƒ¨æˆšæˆšã€‚',
      'ä¹æš–è¿˜å¯’æ—¶å€™ï¼Œæœ€éš¾å°†æ¯ã€‚',
      'ä¸‰æ¯ä¸¤ç›æ·¡é…’ï¼Œæ€æ•Œä»–ã€æ™šæ¥é£æ€¥ï¼Ÿ',
      'é›è¿‡ä¹Ÿï¼Œæ­£ä¼¤å¿ƒï¼Œå´æ˜¯æ—§æ—¶ç›¸è¯†ã€‚',
      'æ»¡åœ°é»„èŠ±å †ç§¯ã€‚æ†”æ‚´æŸï¼Œå¦‚ä»Šæœ‰è°å ªæ‘˜ï¼Ÿ',
      'å®ˆç€çª—å„¿ï¼Œç‹¬è‡ªæ€ç”Ÿå¾—é»‘ï¼Ÿ',
      'æ¢§æ¡æ›´å…¼ç»†é›¨ï¼Œåˆ°é»„æ˜ã€ç‚¹ç‚¹æ»´æ»´ã€‚',
      'è¿™æ¬¡ç¬¬ï¼Œæ€ä¸€ä¸ªæ„å­—äº†å¾—ï¼'
    ],
    translation: 'è‹¦è‹¦åœ°å¯»å¯»è§…è§…ï¼Œå´åªè§å†·å†·æ¸…æ¸…ï¼Œæ€ä¸è®©äººå‡„æƒ¨æ‚²æˆšã€‚ç§‹å¤©æ€»æ˜¯å¿½ç„¶å˜æš–ï¼Œåˆè½¬å¯’å†·ï¼Œæœ€éš¾ä¿å…»ä¼‘æ¯ã€‚å–ä¸‰æ¯ä¸¤æ¯æ·¡é…’ï¼Œæ€ä¹ˆèƒ½æŠµå¾—ä½å‚æ™šçš„å¯’é£ç´§å¹ï¼Ÿä¸€è¡Œå¤§é›ä»å¤´é¡¶ä¸Šé£è¿‡ï¼Œæ›´è®©äººä¼¤å¿ƒï¼Œå› ä¸ºéƒ½æ˜¯å½“å¹´ä¸ºæˆ‘ä¼ é€’ä¹¦ä¿¡çš„æ—§æ—¥ç›¸è¯†ã€‚å›­ä¸­èŠèŠ±å †ç§¯æ»¡åœ°ï¼Œéƒ½å·²ç»æ†”æ‚´ä¸å ªï¼Œå¦‚ä»Šè¿˜æœ‰è°æ¥é‡‡æ‘˜ï¼Ÿå­¤ç‹¬åœ°å®ˆç€çª—å‰ï¼Œç‹¬è‡ªä¸€ä¸ªäººæ€ä¹ˆç†¬åˆ°å¤©é»‘ï¼Ÿæ¢§æ¡å¶ä¸Šç»†é›¨æ·‹æ¼“ï¼Œåˆ°é»„æ˜æ—¶åˆ†ï¼Œé‚£é›¨å£°è¿˜æ˜¯ç‚¹ç‚¹æ»´æ»´ã€‚è¿™èˆ¬å…‰æ™¯ï¼Œæ€ä¹ˆèƒ½ç”¨ä¸€ä¸ª"æ„"å­—äº†ç»“ï¼',
    notes: 'å¯»å¯»è§…è§…ï¼šæ„è°“æƒ³æŠŠå¤±å»çš„ä¸€åˆ‡éƒ½æ‰¾å›æ¥ï¼Œè¡¨ç°éå¸¸ç©ºè™šæ€…æƒ˜ã€è¿·èŒ«å¤±è½çš„å¿ƒæ€ã€‚å‡„å‡„æƒ¨æƒ¨æˆšæˆšï¼šå¿§æ„è‹¦é—·çš„æ ·å­ã€‚ä¹æš–è¿˜ï¼ˆhuÃ¡nï¼‰å¯’ï¼šæŒ‡ç§‹å¤©çš„å¤©æ°”ï¼Œå¿½ç„¶å˜æš–ï¼Œåˆè½¬å¯’å†·ã€‚å°†æ¯ï¼šæ—§æ—¶æ–¹è¨€ï¼Œä¼‘å…»è°ƒç†ä¹‹æ„ã€‚æ€æ•Œä»–ï¼šå¯¹ä»˜ï¼ŒæŠµæŒ¡ã€‚æ™šï¼šä¸€æœ¬ä½œ"æ™“"ã€‚æŸï¼šè¡¨ç¤ºç¨‹åº¦æé«˜ã€‚å ªï¼šå¯ã€‚æ€ç”Ÿï¼šæ€æ ·çš„ã€‚ç”Ÿï¼šè¯­åŠ©è¯ã€‚æ¢§æ¡æ›´å…¼ç»†é›¨ï¼šæš—ç”¨ç™½å±…æ˜“ã€Šé•¿æ¨æ­Œã€‹"ç§‹é›¨æ¢§æ¡å¶è½æ—¶"è¯—æ„ã€‚è¿™æ¬¡ç¬¬ï¼šè¿™å…‰æ™¯ã€è¿™æƒ…å½¢ã€‚æ€ä¸€ä¸ªæ„å­—äº†å¾—ï¼šä¸€ä¸ª"æ„"å­—æ€ä¹ˆèƒ½æ¦‚æ‹¬å¾—å°½å‘¢ï¼Ÿ',
    appreciation: 'è¿™é¦–è¯èµ·å¥ä¾¿ä¸å¯»å¸¸ï¼Œä¸€è¿ç”¨ä¸ƒç»„å è¯ã€‚ä¸ä½†åœ¨å¡«è¯æ–¹é¢ï¼Œå³ä½¿åœ¨è¯—èµ‹æ›²ä¹Ÿç»æ— ä»…æœ‰ã€‚ä½†å¥½å¤„ä¸ä»…åœ¨æ­¤ï¼Œè¿™ä¸ƒç»„å è¯è¿˜æå¯ŒéŸ³ä¹ç¾ã€‚å®‹è¯æ˜¯ç”¨æ¥æ¼”å”±çš„ï¼Œå› æ­¤éŸ³è°ƒå’Œè°æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å†…å®¹ã€‚ææ¸…ç…§å¯¹éŸ³å¾‹æœ‰ææ·±é€ è¯£ï¼Œæ‰€ä»¥è¿™ä¸ƒç»„å è¯æœ—è¯»èµ·æ¥ï¼Œä¾¿æœ‰ä¸€ç§å¤§ç å°ç è½ç‰ç›˜çš„æ„Ÿè§‰ã€‚'
  },
  {
    id: 6,
    title: 'æœ¨å…°è¯Â·æ‹Ÿå¤å†³ç»è¯æŸ¬å‹',
    author: 'çº³å…°æ€§å¾·',
    dynasty: 'æ¸…æœ',
    content: 'äººç”Ÿè‹¥åªå¦‚åˆè§ï¼Œä½•äº‹ç§‹é£æ‚²ç”»æ‰‡ã€‚ç­‰é—²å˜å´æ•…äººå¿ƒï¼Œå´é“æ•…äººå¿ƒæ˜“å˜ã€‚éªŠå±±è¯­ç½¢æ¸…å®µåŠï¼Œæ³ªé›¨éœ–é“ƒç»ˆä¸æ€¨ã€‚ä½•å¦‚è–„å¹¸é”¦è¡£éƒï¼Œæ¯”ç¿¼è¿æå½“æ—¥æ„¿ã€‚',
    lines: [
      'äººç”Ÿè‹¥åªå¦‚åˆè§ï¼Œä½•äº‹ç§‹é£æ‚²ç”»æ‰‡ã€‚',
      'ç­‰é—²å˜å´æ•…äººå¿ƒï¼Œå´é“æ•…äººå¿ƒæ˜“å˜ã€‚',
      'éªŠå±±è¯­ç½¢æ¸…å®µåŠï¼Œæ³ªé›¨éœ–é“ƒç»ˆä¸æ€¨ã€‚',
      'ä½•å¦‚è–„å¹¸é”¦è¡£éƒï¼Œæ¯”ç¿¼è¿æå½“æ—¥æ„¿ã€‚'
    ],
    translation: 'äººç”Ÿå¦‚æœéƒ½åƒåˆæ¬¡ç›¸é‡é‚£èˆ¬ç›¸å¤„è¯¥å¤šç¾å¥½ï¼Œé‚£æ ·å°±ä¸ä¼šæœ‰ç°åœ¨çš„ç¦»åˆ«ç›¸æ€å‡„å‡‰ä¹‹è‹¦äº†ã€‚å¦‚ä»Šè½»æ˜“åœ°å˜äº†å¿ƒï¼Œä½ å´åè€Œè¯´æƒ…äººé—´å°±æ˜¯å®¹æ˜“å˜å¿ƒçš„ã€‚æƒ³å½“åˆå”çš‡ä¸è´µå¦ƒçš„å±±ç›Ÿæµ·èª“çŠ¹åœ¨è€³è¾¹ï¼Œå´åˆæœ€ç»ˆä½œå†³ç»ä¹‹åˆ«ï¼Œå³ä½¿å¦‚æ­¤ï¼Œä¹Ÿç”Ÿä¸å¾—æ€¨ã€‚ä½†ä½ åˆæ€æ¯”å¾—ä¸Šå½“å¹´çš„å”æ˜çš‡å‘¢ï¼Œä»–æ€»è¿˜æ˜¯ä¸æ¨ç‰ç¯æœ‰è¿‡æ¯”ç¿¼é¸Ÿã€è¿ç†æçš„èª“æ„¿ã€‚',
    notes: 'æŸ¬ï¼šç»™â€¦â€¦ä¿¡æœ­ã€‚"ä½•äº‹"å¥ï¼šç”¨æ±‰æœç­å©•å¦¤è¢«å¼ƒçš„å…¸æ•…ã€‚ç­å©•å¦¤ä¸ºæ±‰æˆå¸å¦ƒï¼Œè¢«èµµé£ç‡•è°—å®³ï¼Œé€€å±…å†·å®«ï¼Œåæœ‰è¯—ã€Šæ€¨æ­Œè¡Œã€‹ï¼Œä»¥ç§‹æ‰‡é—²ç½®ä¸ºå–»æŠ’å‘è¢«å¼ƒä¹‹æ€¨æƒ…ã€‚å—åŒ—æœæ¢åˆ˜å­ç»°ã€Šç­å©•å¦¤æ€¨ã€‹è¯—åˆç‚¹æ˜"å¦¾èº«ä¼¼ç§‹æ‰‡"ï¼Œåé‚ä»¥ç§‹æ‰‡è§æå–»å¥³å­è¢«å¼ƒã€‚è¿™é‡Œæ˜¯è¯´æœ¬åº”å½“ç›¸äº²ç›¸çˆ±ï¼Œä½†å´æˆäº†ç›¸ç¦»ç›¸å¼ƒã€‚æ•…äººï¼šæŒ‡æƒ…äººã€‚å´é“æ•…äººå¿ƒæ˜“å˜ï¼ˆå‡ºè‡ªå¨±å›­æœ¬ï¼‰ï¼Œä¸€ä½œ"å´é“æ•…å¿ƒäººæ˜“å˜"ã€‚éªŠå±±è¯­ç½¢æ¸…å®µåŠï¼Œæ³ªé›¨éœ–é“ƒç»ˆä¸æ€¨ï¼šç”¨å”æ˜çš‡ä¸æ¨è´µå¦ƒçš„çˆ±æƒ…å…¸æ•…ã€‚è–„å¹¸ï¼šè–„æƒ…ã€‚é”¦è¡£éƒï¼šæŒ‡å”æ˜çš‡ã€‚',
    appreciation: 'æ­¤è¯æå†™äº†ä¸€ä¸ªä¸ºæƒ…æ‰€ä¼¤çš„å¥³å­å’Œä¼¤å®³å¥¹çš„ç”·å­åšå†³åˆ†æ‰‹çš„æƒ…æ™¯ï¼Œå€Ÿç”¨ç­å©•å¦¤è¢«å¼ƒä»¥åŠå”ç„å®—ä¸æ¨è´µå¦ƒçš„çˆ±æƒ…æ‚²å‰§çš„å…¸æ•…ï¼Œé€šè¿‡"ç§‹æ‰‡"ã€"éªŠå±±è¯­"ã€"é›¨éœ–é“ƒ"ã€"æ¯”ç¿¼è¿æ"è¿™äº›æ„è±¡ï¼Œè¥é€ äº†ä¸€ç§å¹½æ€¨ã€å‡„æ¥šã€æ‚²å‡‰çš„æ„å¢ƒï¼ŒæŠ’å†™äº†å¥³å­è¢«ç”·å­æŠ›å¼ƒçš„å¹½æ€¨ä¹‹æƒ…ã€‚'
  }
]

// å°†æœ¬åœ°æ•°æ®è¿ç§»åˆ°Supabase
async function migratePoemsToSupabase() {
  try {
    console.log('å¼€å§‹è¿ç§»è¯—è¯æ•°æ®åˆ°Supabase...')
    
    // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ•°æ®
    const { data: existingData, error: checkError } = await supabase
      .from('poems')
      .select('id')
      .limit(1)
    
    if (checkError) {
      console.error('æ£€æŸ¥ç°æœ‰æ•°æ®å¤±è´¥:', checkError)
      return { success: false, error: checkError }
    }
    
    // å¦‚æœå·²æœ‰æ•°æ®ï¼Œå…ˆæ¸…ç©º
    if (existingData && existingData.length > 0) {
      console.log('æ£€æµ‹åˆ°å·²æœ‰æ•°æ®ï¼Œæ­£åœ¨æ¸…ç©º...')
      const { error: deleteError } = await supabase
        .from('poems')
        .delete()
        .neq('id', 0) // åˆ é™¤æ‰€æœ‰è®°å½•
      
      if (deleteError) {
        console.error('æ¸…ç©ºæ•°æ®å¤±è´¥:', deleteError)
        return { success: false, error: deleteError }
      }
    }
    
    // è½¬æ¢æ•°æ®æ ¼å¼å¹¶æ’å…¥
    const poemsToInsert = poemsData.map(poem => ({
      title: poem.title,
      author: poem.author,
      dynasty: poem.dynasty,
      content: poem.content,
      lines: poem.lines,
      translation: poem.translation,
      notes: poem.notes,
      appreciation: poem.appreciation
    }))
    
    const { data, error } = await supabase
      .from('poems')
      .insert(poemsToInsert)
      .select()
    
    if (error) {
      console.error('æ’å…¥æ•°æ®å¤±è´¥:', error)
      return { success: false, error }
    }
    
    console.log(`æˆåŠŸè¿ç§» ${data.length} é¦–è¯—è¯åˆ°Supabase`)
    return { success: true, count: data.length }
    
  } catch (error) {
    console.error('è¿ç§»è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error)
    return { success: false, error }
  }
}

// æµ‹è¯•è¿æ¥å’Œè¿ç§»
async function testAndMigrate() {
  try {
    // æµ‹è¯•è¿æ¥
    const { data, error } = await supabase
      .from('poems')
      .select('count')
      .limit(1)
    
    if (error) {
      console.error('Supabaseè¿æ¥æµ‹è¯•å¤±è´¥:', error)
      return { success: false, error }
    }
    
    console.log('âœ… Supabaseè¿æ¥æˆåŠŸ')
    
    // æ‰§è¡Œè¿ç§»
    const result = await migratePoemsToSupabase()
    return result
    
  } catch (error) {
    console.error('æµ‹è¯•å’Œè¿ç§»è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error)
    return { success: false, error }
  }
}

// è¿è¡Œè¿ç§»
async function runMigration() {
  console.log('å¼€å§‹æ‰§è¡Œæ•°æ®è¿ç§»...')
  
  try {
    const result = await testAndMigrate()
    
    if (result.success) {
      console.log('âœ… æ•°æ®è¿ç§»æˆåŠŸï¼')
      console.log(`ğŸ“Š è¿ç§»äº† ${result.count} é¦–è¯—è¯`)
    } else {
      console.error('âŒ æ•°æ®è¿ç§»å¤±è´¥:', result.error)
    }
  } catch (error) {
    console.error('âŒ è¿ç§»è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:', error)
  }
}

// ç›´æ¥è¿è¡Œè¿ç§»
runMigration()